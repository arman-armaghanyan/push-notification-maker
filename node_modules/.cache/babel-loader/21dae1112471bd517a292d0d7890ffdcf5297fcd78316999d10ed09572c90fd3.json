{"ast":null,"code":"import _objectSpread from\"/Users/armanarmaghanyan/Documents/GitHub/push-notification-maker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect,useCallback,useMemo}from'react';import{useDropzone}from'react-dropzone';import{Compact}from'@uiw/react-color';import{Upload,Download,Image as ImageIcon,Shapes,Palette,Search}from'lucide-react';import{sampleSvgShapes}from'./sampleSvgData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CANVAS_WIDTH=1200;const CANVAS_HEIGHT=600;const MAX_SIZE=600;const ICONS_PER_ROW=3;const ICON_HEIGHT=120;// Height of each icon item including padding\nfunction App(){const[mode,setMode]=useState('shapes');const[selectedShape,setSelectedShape]=useState(null);const[uploadedImage,setUploadedImage]=useState(null);const[backgroundColor,setBackgroundColor]=useState('transparent');const[svgColor,setSvgColor]=useState('#F40BF4');const[showBgColorPicker,setShowBgColorPicker]=useState(false);const[showSvgColorPicker,setShowSvgColorPicker]=useState(false);const[elementPosition,setElementPosition]=useState({x:300,y:0});const[isDragging,setIsDragging]=useState(false);const[allShapes,setAllShapes]=useState(sampleSvgShapes);const[isLoadingIcons,setIsLoadingIcons]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[iconSource,setIconSource]=useState('builtin');// 'builtin' or 'folder'\nconst[visibleRange,setVisibleRange]=useState({start:0,end:12});// For virtualization\nconst[showIconModal,setShowIconModal]=useState(false);// Separate state for each text overlay\nconst[pushHeader1,setPushHeader1]=useState('Your notification title');const[pushPreheader1,setPushPreheader1]=useState('Notification description text');const[pushHeader2,setPushHeader2]=useState('Your notification title');const[pushPreheader2,setPushPreheader2]=useState('Notification description text');const[editingText,setEditingText]=useState(null);// 'header1', 'preheader1', 'header2', 'preheader2', or null\nconst[tempText,setTempText]=useState('');const canvasRef=useRef(null);const canvasContainerRef=useRef(null);const iconGridRef=useRef(null);const searchInputRef=useRef(null);const mockupCanvasRef=useRef(null);const mockupCanvasSquareRef=useRef(null);// Load icons from static JSON file (production) or API (development)\nconst loadIconsFromFolder=async()=>{setIsLoadingIcons(true);try{// Try to load from static JSON file first (works in production)\nconst response=await fetch(\"/icons-data.json?t=\".concat(Date.now()));if(response.ok){const data=await response.json();if(data.icons&&data.icons.length>0){setAllShapes(data.icons);setIconSource('folder');console.log(\"\\u2705 Loaded \".concat(data.icons.length,\" icons from static JSON\"));return;}}// Fallback: try the API endpoint (development only)\ntry{const apiResponse=await fetch(\"/api/icons?t=\".concat(Date.now()));if(apiResponse.ok){const apiData=await apiResponse.json();if(apiData.icons&&apiData.icons.length>0){setAllShapes(apiData.icons);setIconSource('folder');console.log(\"\\u2705 Loaded \".concat(apiData.icons.length,\" icons from API\"));return;}}}catch(apiError){// API not available (expected in production)\nconsole.log('API endpoint not available, using built-in icons');}// Final fallback: use built-in icons\nsetAllShapes(sampleSvgShapes);setIconSource('builtin');console.log('ðŸ“¦ Using built-in sample icons');}catch(error){console.log('Error loading icons, using built-in icons:',error);// Fall back to built-in icons\nsetAllShapes(sampleSvgShapes);setIconSource('builtin');}finally{setIsLoadingIcons(false);}};// Load icons on app start\nuseEffect(()=>{loadIconsFromFolder();},[]);// Set default sticker icon when shapes are loaded (only if no uploaded image)\nuseEffect(()=>{if(allShapes.length>0&&!selectedShape&&!uploadedImage){// Look for Sticker Outline icon specifically as default (processed name from IconStickerOutline.svg)\nconst stickerIcon=allShapes.find(shape=>shape.name&&(shape.name==='Sticker Outline'||shape.name==='IconStickerOutline'||shape.name.toLowerCase().includes('sticker outline')));if(stickerIcon){selectShape(stickerIcon);}}},[allShapes,selectedShape,uploadedImage]);// Filter shapes based on search with memoization\nconst filteredShapes=useMemo(()=>{if(!searchTerm)return allShapes;const searchLower=searchTerm.toLowerCase();return allShapes.filter(shape=>shape.name.toLowerCase().includes(searchLower)||shape.tags.some(tag=>tag.toLowerCase().includes(searchLower)));},[allShapes,searchTerm]);// Virtual scrolling calculations\nconst{visibleItems,totalHeight,scrollHandler}=useMemo(()=>{const containerHeight=384;// max-h-96 = 24rem = 384px\nconst rowsToShow=Math.ceil(containerHeight/ICON_HEIGHT)+2;// Add buffer\nconst totalRows=Math.ceil(filteredShapes.length/ICONS_PER_ROW);const totalHeight=totalRows*ICON_HEIGHT;const scrollHandler=e=>{const scrollTop=e.target.scrollTop;const startRow=Math.floor(scrollTop/ICON_HEIGHT);const endRow=Math.min(startRow+rowsToShow,totalRows);setVisibleRange({start:startRow*ICONS_PER_ROW,end:endRow*ICONS_PER_ROW});};// Get visible items\nconst visibleItems=filteredShapes.slice(visibleRange.start,visibleRange.end);return{visibleItems,totalHeight,scrollHandler};},[filteredShapes,visibleRange.start,visibleRange.end]);// Calculate center position\nconst calculateCenterPosition=(width,height)=>{return{x:(CANVAS_WIDTH-width)/2,y:(CANVAS_HEIGHT-height)/2};};// Handle file drop\nconst onDrop=useCallback(acceptedFiles=>{const file=acceptedFiles[0];if(!file){return;}const reader=new FileReader();reader.onload=e=>{const img=new Image();img.onload=()=>{let width=img.width;let height=img.height;if(height>MAX_SIZE){const ratio=MAX_SIZE/height;width*=ratio;height=MAX_SIZE;}if(width>MAX_SIZE){const ratio=MAX_SIZE/width;height*=ratio;width=MAX_SIZE;}const uploadedData={src:e.target.result,width,height,originalWidth:img.width,originalHeight:img.height,name:file.name};setSelectedShape(null);// Clear selected shape first\nsetUploadedImage(uploadedData);const{x,y}=calculateCenterPosition(width,height);setElementPosition({x,y});};img.onerror=()=>{};img.src=e.target.result;};reader.onerror=()=>{};reader.readAsDataURL(file);},[]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'image/*':['.png','.jpg','.jpeg','.svg']},multiple:false,onDropAccepted:()=>{},onDropRejected:()=>{},onError:()=>{}});// Draw on canvas\nconst drawCanvas=useCallback(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Clear canvas\nctx.clearRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);// Draw background (only if not transparent)\nif(backgroundColor!=='transparent'){ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);}// Draw element (prioritize uploaded image over selected shape)\nif(uploadedImage){const img=new Image();img.onload=()=>{ctx.drawImage(img,elementPosition.x,elementPosition.y,uploadedImage.width,uploadedImage.height);};img.onerror=()=>{// Handle image load error silently\n};img.src=uploadedImage.src;}else if(selectedShape){const img=new Image();const svg=new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g,\"fill=\\\"\".concat(svgColor,\"\\\"\"))],{type:'image/svg+xml'});const url=URL.createObjectURL(svg);img.onload=()=>{ctx.drawImage(img,elementPosition.x,elementPosition.y,MAX_SIZE,MAX_SIZE);URL.revokeObjectURL(url);};img.src=url;}},[backgroundColor,selectedShape,uploadedImage,elementPosition,svgColor]);// Update canvas when dependencies change\nuseEffect(()=>{drawCanvas();},[drawCanvas]);// Focus search input when modal opens\nuseEffect(()=>{if(showIconModal&&searchInputRef.current){// Clear search term and focus input\nsetSearchTerm('');// Small delay to ensure modal is fully rendered\nsetTimeout(()=>{var _searchInputRef$curre;(_searchInputRef$curre=searchInputRef.current)===null||_searchInputRef$curre===void 0?void 0:_searchInputRef$curre.focus();},100);}},[showIconModal]);// Draw mockup canvas\nconst drawMockupCanvas=useCallback(()=>{const canvas=mockupCanvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Clear canvas (2:1 aspect ratio, high resolution)\nctx.clearRect(0,0,480,240);// Draw background if not transparent\nif(backgroundColor!=='transparent'){ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,480,240);}// Draw element\nif(uploadedImage){const img=new Image();img.onload=()=>{const scale=Math.min(480/uploadedImage.width,240/uploadedImage.height);const width=uploadedImage.width*scale;const height=uploadedImage.height*scale;const x=(480-width)/2;const y=(240-height)/2;ctx.drawImage(img,x,y,width,height);};img.src=uploadedImage.src;}else if(selectedShape){const img=new Image();const svg=new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g,\"fill=\\\"\".concat(svgColor,\"\\\"\"))],{type:'image/svg+xml'});const url=URL.createObjectURL(svg);img.onload=()=>{// Center the icon in the 2:1 canvas\nconst iconSize=Math.min(480,240);const x=(480-iconSize)/2;const y=(240-iconSize)/2;ctx.drawImage(img,x,y,iconSize,iconSize);URL.revokeObjectURL(url);};img.src=url;}},[backgroundColor,selectedShape,uploadedImage,svgColor]);// Update mockup canvas when dependencies change\nuseEffect(()=>{drawMockupCanvas();},[drawMockupCanvas]);// Draw square mockup canvas\nconst drawMockupSquareCanvas=useCallback(()=>{const canvas=mockupCanvasSquareRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Clear canvas (1:1 aspect ratio, high resolution)\nctx.clearRect(0,0,240,240);// Draw background if not transparent\nif(backgroundColor!=='transparent'){ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,240,240);}// Draw element\nif(uploadedImage){const img=new Image();img.onload=()=>{const scale=Math.min(240/uploadedImage.width,240/uploadedImage.height);const width=uploadedImage.width*scale;const height=uploadedImage.height*scale;const x=(240-width)/2;const y=(240-height)/2;ctx.drawImage(img,x,y,width,height);};img.src=uploadedImage.src;}else if(selectedShape){const img=new Image();const svg=new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g,\"fill=\\\"\".concat(svgColor,\"\\\"\"))],{type:'image/svg+xml'});const url=URL.createObjectURL(svg);img.onload=()=>{// Fill the entire square canvas with the icon\nctx.drawImage(img,0,0,240,240);URL.revokeObjectURL(url);};img.src=url;}},[backgroundColor,selectedShape,uploadedImage,svgColor]);// Update square mockup canvas when dependencies change\nuseEffect(()=>{drawMockupSquareCanvas();},[drawMockupSquareCanvas]);// Handle mouse drag on canvas\nconst handleCanvasMouseDown=e=>{if(!selectedShape&&!uploadedImage)return;const rect=canvasContainerRef.current.getBoundingClientRect();const scale=rect.width/CANVAS_WIDTH;const mouseX=(e.clientX-rect.left)/scale;const mouseY=(e.clientY-rect.top)/scale;const elementWidth=uploadedImage?uploadedImage.width:MAX_SIZE;const elementHeight=uploadedImage?uploadedImage.height:MAX_SIZE;// Check if click is within element bounds\nif(mouseX>=elementPosition.x&&mouseX<=elementPosition.x+elementWidth&&mouseY>=elementPosition.y&&mouseY<=elementPosition.y+elementHeight){setIsDragging(true);const offsetX=mouseX-elementPosition.x;const offsetY=mouseY-elementPosition.y;const handleMouseMove=e=>{const rect=canvasContainerRef.current.getBoundingClientRect();const scale=rect.width/CANVAS_WIDTH;const newX=(e.clientX-rect.left)/scale-offsetX;const newY=(e.clientY-rect.top)/scale-offsetY;setElementPosition({x:Math.max(0,Math.min(CANVAS_WIDTH-elementWidth,newX)),y:Math.max(0,Math.min(CANVAS_HEIGHT-elementHeight,newY))});};const handleMouseUp=()=>{setIsDragging(false);document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);};document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);}};// Generate smart filename based on template: \"Lifecycle_toolName_color_background_1200x600\"\nconst generateFileName=()=>{let toolName='unknown';let colorName='unknown';let backgroundName='unknown';// Get tool name\nif(uploadedImage){// Use uploaded image name without extension\ntoolName=uploadedImage.name.replace(/\\.[^/.]+$/,'')// Remove file extension\n.replace(/\\s+/g,'')// Remove spaces\n.replace(/[^a-zA-Z0-9]/g,'')// Remove special characters\n.toLowerCase();}else if(selectedShape){// Clean the icon name for filename (remove spaces, special chars)\ntoolName=selectedShape.name.replace(/\\s+/g,'')// Remove spaces\n.replace(/[^a-zA-Z0-9]/g,'')// Remove special characters\n.toLowerCase();}// Get color name\nif(selectedShape){// Convert hex color to readable name or use hex without #\ncolorName=svgColor.replace('#','').toLowerCase();// Convert common colors to names\nconst colorMap={'f40bf4':'pink','ff0000':'red','00ff00':'green','0000ff':'blue','ffff00':'yellow','ff00ff':'magenta','00ffff':'cyan','000000':'black','ffffff':'white','ffa500':'orange','800080':'purple'};colorName=colorMap[colorName]||colorName;}else{colorName='original';}// Get background name\nif(backgroundColor==='transparent'){backgroundName='transparent';}else{backgroundName=backgroundColor.replace('#','').toLowerCase();// Convert common background colors to names\nconst bgColorMap={'ffffff':'white','000000':'black','ff0000':'red','00ff00':'green','0000ff':'blue','ffff00':'yellow','ffa500':'orange','800080':'purple'};backgroundName=bgColorMap[backgroundName]||backgroundName;}return\"Lifecycle_\".concat(toolName,\"_\").concat(colorName,\"_\").concat(backgroundName,\"_1200x600.png\");};// Export as PNG\nconst exportAsPNG=()=>{const canvas=canvasRef.current;canvas.toBlob(blob=>{const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=generateFileName();a.click();URL.revokeObjectURL(url);});};// Select shape\nconst selectShape=shape=>{setUploadedImage(null);// Clear uploaded image first\nsetSelectedShape(shape);const{x,y}=calculateCenterPosition(MAX_SIZE,MAX_SIZE);setElementPosition({x,y});};// Helper function to truncate text with ellipsis\nconst truncateText=(text,maxLength)=>{if(text.length<=maxLength)return text;return text.substring(0,maxLength)+'...';};// Get current text based on editing type\nconst getCurrentText=textType=>{switch(textType){case'header1':return pushHeader1;case'preheader1':return pushPreheader1;case'header2':return pushHeader2;case'preheader2':return pushPreheader2;default:return'';}};// Handle text editing\nconst handleTextDoubleClick=textType=>{const currentText=getCurrentText(textType);setTempText(currentText);setEditingText(textType);};const handleTextSave=()=>{if(editingText){switch(editingText){case'header1':case'header2':// Sync both headers together\nsetPushHeader1(tempText);setPushHeader2(tempText);break;case'preheader1':case'preheader2':// Sync both preheaders together\nsetPushPreheader1(tempText);setPushPreheader2(tempText);break;}setEditingText(null);setTempText('');}};const handleTextCancel=()=>{setEditingText(null);setTempText('');};const handleTextKeyDown=e=>{if(e.key==='Enter'){e.preventDefault();handleTextSave();}else if(e.key==='Escape'){e.preventDefault();handleTextCancel();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto p-4 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-4 gap-6 max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"xl:col-span-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Canvas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Click and drag to position\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportAsPNG,disabled:!selectedShape&&!uploadedImage,className:\"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm font-medium\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Export PNG\"]})]}),/*#__PURE__*/_jsx(\"div\",{ref:canvasContainerRef,className:\"relative border-2 border-gray-200 rounded-lg overflow-hidden \".concat(backgroundColor==='transparent'?'bg-white':'bg-gray-100'),style:_objectSpread({paddingBottom:'50%'},backgroundColor==='transparent'&&{backgroundImage:'linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%)',backgroundSize:'20px 20px',backgroundPosition:'0 0, 0 10px, 10px -10px, -10px 0px'}),children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT,className:\"absolute inset-0 w-full h-full \".concat(isDragging?'cursor-grabbing':'cursor-grab'),onMouseDown:handleCanvasMouseDown})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowIconModal(true),className:\"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:border-gray-300 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Shapes,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Change Icon\"})]}),/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:border-gray-300 rounded-lg transition-colors cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Upload,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:isDragActive?'Drop':'Upload'})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"BG\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBgColorPicker(!showBgColorPicker),className:\"w-8 h-8 rounded border border-gray-200 hover:border-gray-300 transition-colors overflow-hidden\",children:backgroundColor==='transparent'?/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gray-100\",style:{backgroundImage:'linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)',backgroundSize:'4px 4px',backgroundPosition:'0 0, 0 2px, 2px -2px, -2px 0px'}}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full\",style:{backgroundColor}})}),showBgColorPicker&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-20 mt-2 right-0 min-w-max\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0\",onClick:()=>setShowBgColorPicker(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl p-3 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setBackgroundColor('transparent');setShowBgColorPicker(false);},className:\"w-full px-3 py-2 text-xs rounded transition-colors font-medium \".concat(backgroundColor==='transparent'?'bg-blue-100 text-blue-800':'bg-gray-100 hover:bg-gray-200'),children:\"\\u2713 Transparent\"})}),/*#__PURE__*/_jsx(Compact,{color:backgroundColor==='transparent'?'#ffffff':backgroundColor,onChange:color=>setBackgroundColor(color.hex),style:{width:'240px'}})]})]})]})]}),selectedShape&&!uploadedImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSvgColorPicker(!showSvgColorPicker),className:\"w-8 h-8 rounded border border-gray-200 hover:border-gray-300 transition-colors\",style:{backgroundColor:svgColor}}),showSvgColorPicker&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-20 mt-2 right-0 min-w-max\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0\",onClick:()=>setShowSvgColorPicker(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl p-3 border border-gray-200\",children:/*#__PURE__*/_jsx(Compact,{color:svgColor,onChange:color=>setSvgColor(color.hex),style:{width:'240px'}})})]})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden xl:block xl:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg min-h-[300px]\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Mockup.png\",alt:\"Push notification mockup\",className:\"w-full h-auto rounded-lg\",onError:e=>{e.target.style.display='none';},onLoad:()=>{}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-[55.6%] left-[5%] w-[90.5%]\",style:{aspectRatio:'2/1'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:mockupCanvasRef,width:480,height:240,className:\"w-full h-full\",style:{borderTopLeftRadius:'1rem',borderTopRightRadius:'1rem'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-[48.5%] left-[84%] w-[8%]\",style:{aspectRatio:'1/1'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:mockupCanvasSquareRef,width:240,height:240,className:\"w-full h-full\",style:{borderRadius:'0.3em'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-[46%] left-[20%] space-y-1\",style:{width:'170px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-semibold text-sm leading-tight whitespace-nowrap overflow-hidden\",children:editingText==='header1'?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tempText,onChange:e=>setTempText(e.target.value),onKeyDown:handleTextKeyDown,onBlur:handleTextSave,className:\"bg-transparent border border-white/30 rounded px-1 text-white text-sm font-semibold leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\",style:{width:'170px'},autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>handleTextDoubleClick('header1'),className:\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\",title:pushHeader1,style:{maxWidth:'170px'},children:truncateText(pushHeader1,25)})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/80 text-xs leading-tight whitespace-nowrap overflow-hidden\",children:editingText==='preheader1'?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tempText,onChange:e=>setTempText(e.target.value),onKeyDown:handleTextKeyDown,onBlur:handleTextSave,className:\"bg-transparent border border-white/30 rounded px-1 text-white/80 text-xs leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\",style:{width:'170px'},autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>handleTextDoubleClick('preheader1'),className:\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\",title:pushPreheader1,style:{maxWidth:'170px'},children:truncateText(pushPreheader1,34)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-[77.75%] left-[8%] space-y-1\",style:{width:'270px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-semibold text-sm leading-tight whitespace-nowrap overflow-hidden\",children:editingText==='header2'?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tempText,onChange:e=>setTempText(e.target.value),onKeyDown:handleTextKeyDown,onBlur:handleTextSave,className:\"bg-transparent border border-white/30 rounded px-1 text-white text-sm font-semibold leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\",style:{width:'240px'},autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>handleTextDoubleClick('header2'),className:\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\",title:pushHeader2,style:{maxWidth:'240px'},children:truncateText(pushHeader2,40)})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/80 text-xs leading-tight whitespace-nowrap overflow-hidden\",children:editingText==='preheader2'?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tempText,onChange:e=>setTempText(e.target.value),onKeyDown:handleTextKeyDown,onBlur:handleTextSave,className:\"bg-transparent border border-white/30 rounded px-1 text-white/80 text-xs leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\",style:{width:'240px'},autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>handleTextDoubleClick('preheader2'),className:\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\",title:pushPreheader2,style:{maxWidth:'240px'},children:truncateText(pushPreheader2,65)})})]})]})})]})}),showIconModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",onClick:()=>setShowIconModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden relative\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 z-10\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowIconModal(false),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 pt-12 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:18}),/*#__PURE__*/_jsx(\"input\",{ref:searchInputRef,type:\"text\",placeholder:\"Search icons...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 overflow-y-auto max-h-96\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3\",children:filteredShapes.map(shape=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{selectShape(shape);setShowIconModal(false);},className:\"p-3 rounded-lg border-2 transition-all hover:scale-105 flex flex-col items-center justify-center aspect-square \".concat((selectedShape===null||selectedShape===void 0?void 0:selectedShape.id)===shape.id?'border-purple-500 bg-purple-50':'border-gray-200 hover:border-gray-300 bg-white'),title:shape.name,children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 flex items-center justify-center\",dangerouslySetInnerHTML:{__html:shape.svg.replace(/fill=\"[^\"]*\"/g,'fill=\"#000000\"').replace(/stroke=\"[^\"]*\"/g,'stroke=\"#000000\"')}})},shape.id))}),filteredShapes.length===0&&!isLoadingIcons&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No icons found matching your search.\"})})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useMemo","useDropzone","Compact","Upload","Download","Image","ImageIcon","Shapes","Palette","Search","sampleSvgShapes","jsx","_jsx","jsxs","_jsxs","CANVAS_WIDTH","CANVAS_HEIGHT","MAX_SIZE","ICONS_PER_ROW","ICON_HEIGHT","App","mode","setMode","selectedShape","setSelectedShape","uploadedImage","setUploadedImage","backgroundColor","setBackgroundColor","svgColor","setSvgColor","showBgColorPicker","setShowBgColorPicker","showSvgColorPicker","setShowSvgColorPicker","elementPosition","setElementPosition","x","y","isDragging","setIsDragging","allShapes","setAllShapes","isLoadingIcons","setIsLoadingIcons","searchTerm","setSearchTerm","iconSource","setIconSource","visibleRange","setVisibleRange","start","end","showIconModal","setShowIconModal","pushHeader1","setPushHeader1","pushPreheader1","setPushPreheader1","pushHeader2","setPushHeader2","pushPreheader2","setPushPreheader2","editingText","setEditingText","tempText","setTempText","canvasRef","canvasContainerRef","iconGridRef","searchInputRef","mockupCanvasRef","mockupCanvasSquareRef","loadIconsFromFolder","response","fetch","concat","Date","now","ok","data","json","icons","length","console","log","apiResponse","apiData","apiError","error","stickerIcon","find","shape","name","toLowerCase","includes","selectShape","filteredShapes","searchLower","filter","tags","some","tag","visibleItems","totalHeight","scrollHandler","containerHeight","rowsToShow","Math","ceil","totalRows","e","scrollTop","target","startRow","floor","endRow","min","slice","calculateCenterPosition","width","height","onDrop","acceptedFiles","file","reader","FileReader","onload","img","ratio","uploadedData","src","result","originalWidth","originalHeight","onerror","readAsDataURL","getRootProps","getInputProps","isDragActive","accept","multiple","onDropAccepted","onDropRejected","onError","drawCanvas","canvas","current","ctx","getContext","clearRect","fillStyle","fillRect","drawImage","svg","Blob","replace","type","url","URL","createObjectURL","revokeObjectURL","setTimeout","_searchInputRef$curre","focus","drawMockupCanvas","scale","iconSize","drawMockupSquareCanvas","handleCanvasMouseDown","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","elementWidth","elementHeight","offsetX","offsetY","handleMouseMove","newX","newY","max","handleMouseUp","document","removeEventListener","addEventListener","generateFileName","toolName","colorName","backgroundName","colorMap","bgColorMap","exportAsPNG","toBlob","blob","a","createElement","href","download","click","truncateText","text","maxLength","substring","getCurrentText","textType","handleTextDoubleClick","currentText","handleTextSave","handleTextCancel","handleTextKeyDown","key","preventDefault","className","children","onClick","disabled","size","ref","style","_objectSpread","paddingBottom","backgroundImage","backgroundSize","backgroundPosition","onMouseDown","color","onChange","hex","alt","display","onLoad","aspectRatio","borderTopLeftRadius","borderTopRightRadius","borderRadius","value","onKeyDown","onBlur","autoFocus","onDoubleClick","title","maxWidth","stopPropagation","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","placeholder","map","id","dangerouslySetInnerHTML","__html"],"sources":["/Users/armanarmaghanyan/Documents/GitHub/push-notification-maker/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Compact } from '@uiw/react-color';\nimport { Upload, Download, Image as ImageIcon, Shapes, Palette, Search } from 'lucide-react';\nimport { sampleSvgShapes } from './sampleSvgData';\n\nconst CANVAS_WIDTH = 1200;\nconst CANVAS_HEIGHT = 600;\nconst MAX_SIZE = 600;\nconst ICONS_PER_ROW = 3;\nconst ICON_HEIGHT = 120; // Height of each icon item including padding\n\nfunction App() {\n  const [mode, setMode] = useState('shapes');\n  const [selectedShape, setSelectedShape] = useState(null);\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [backgroundColor, setBackgroundColor] = useState('transparent');\n  const [svgColor, setSvgColor] = useState('#F40BF4');\n  const [showBgColorPicker, setShowBgColorPicker] = useState(false);\n  const [showSvgColorPicker, setShowSvgColorPicker] = useState(false);\n  const [elementPosition, setElementPosition] = useState({ x: 300, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [allShapes, setAllShapes] = useState(sampleSvgShapes);\n  const [isLoadingIcons, setIsLoadingIcons] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [iconSource, setIconSource] = useState('builtin'); // 'builtin' or 'folder'\n  const [visibleRange, setVisibleRange] = useState({ start: 0, end: 12 }); // For virtualization\n  const [showIconModal, setShowIconModal] = useState(false);\n  // Separate state for each text overlay\n  const [pushHeader1, setPushHeader1] = useState('Your notification title');\n  const [pushPreheader1, setPushPreheader1] = useState('Notification description text');\n  const [pushHeader2, setPushHeader2] = useState('Your notification title');\n  const [pushPreheader2, setPushPreheader2] = useState('Notification description text');\n  const [editingText, setEditingText] = useState(null); // 'header1', 'preheader1', 'header2', 'preheader2', or null\n  const [tempText, setTempText] = useState('');\n  \n  const canvasRef = useRef(null);\n  const canvasContainerRef = useRef(null);\n  const iconGridRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const mockupCanvasRef = useRef(null);\n  const mockupCanvasSquareRef = useRef(null);\n\n  // Load icons from static JSON file (production) or API (development)\n  const loadIconsFromFolder = async () => {\n    setIsLoadingIcons(true);\n    try {\n      // Try to load from static JSON file first (works in production)\n      const response = await fetch(`/icons-data.json?t=${Date.now()}`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        \n        if (data.icons && data.icons.length > 0) {\n          setAllShapes(data.icons);\n          setIconSource('folder');\n          console.log(`âœ… Loaded ${data.icons.length} icons from static JSON`);\n          return;\n        }\n      }\n      \n      // Fallback: try the API endpoint (development only)\n      try {\n        const apiResponse = await fetch(`/api/icons?t=${Date.now()}`);\n        if (apiResponse.ok) {\n          const apiData = await apiResponse.json();\n          \n          if (apiData.icons && apiData.icons.length > 0) {\n            setAllShapes(apiData.icons);\n            setIconSource('folder');\n            console.log(`âœ… Loaded ${apiData.icons.length} icons from API`);\n            return;\n          }\n        }\n      } catch (apiError) {\n        // API not available (expected in production)\n        console.log('API endpoint not available, using built-in icons');\n      }\n      \n      // Final fallback: use built-in icons\n      setAllShapes(sampleSvgShapes);\n      setIconSource('builtin');\n      console.log('ðŸ“¦ Using built-in sample icons');\n      \n    } catch (error) {\n      console.log('Error loading icons, using built-in icons:', error);\n      // Fall back to built-in icons\n      setAllShapes(sampleSvgShapes);\n      setIconSource('builtin');\n    } finally {\n      setIsLoadingIcons(false);\n    }\n  };\n\n  // Load icons on app start\n  useEffect(() => {\n    loadIconsFromFolder();\n  }, []);\n\n  // Set default sticker icon when shapes are loaded (only if no uploaded image)\n  useEffect(() => {\n    if (allShapes.length > 0 && !selectedShape && !uploadedImage) {\n      // Look for Sticker Outline icon specifically as default (processed name from IconStickerOutline.svg)\n      const stickerIcon = allShapes.find(shape => \n        shape.name && (\n          shape.name === 'Sticker Outline' ||\n          shape.name === 'IconStickerOutline' ||\n          shape.name.toLowerCase().includes('sticker outline')\n        )\n      );\n      \n      if (stickerIcon) {\n        selectShape(stickerIcon);\n      }\n    }\n  }, [allShapes, selectedShape, uploadedImage]);\n\n  // Filter shapes based on search with memoization\n  const filteredShapes = useMemo(() => {\n    if (!searchTerm) return allShapes;\n    const searchLower = searchTerm.toLowerCase();\n    return allShapes.filter(shape => \n      shape.name.toLowerCase().includes(searchLower) ||\n      shape.tags.some(tag => tag.toLowerCase().includes(searchLower))\n    );\n  }, [allShapes, searchTerm]);\n\n  // Virtual scrolling calculations\n  const { visibleItems, totalHeight, scrollHandler } = useMemo(() => {\n    const containerHeight = 384; // max-h-96 = 24rem = 384px\n    const rowsToShow = Math.ceil(containerHeight / ICON_HEIGHT) + 2; // Add buffer\n    const totalRows = Math.ceil(filteredShapes.length / ICONS_PER_ROW);\n    const totalHeight = totalRows * ICON_HEIGHT;\n    \n    const scrollHandler = (e) => {\n      const scrollTop = e.target.scrollTop;\n      const startRow = Math.floor(scrollTop / ICON_HEIGHT);\n      const endRow = Math.min(startRow + rowsToShow, totalRows);\n      \n      setVisibleRange({\n        start: startRow * ICONS_PER_ROW,\n        end: endRow * ICONS_PER_ROW\n      });\n    };\n\n    // Get visible items\n    const visibleItems = filteredShapes.slice(visibleRange.start, visibleRange.end);\n    \n    return { visibleItems, totalHeight, scrollHandler };\n  }, [filteredShapes, visibleRange.start, visibleRange.end]);\n\n  // Calculate center position\n  const calculateCenterPosition = (width, height) => {\n    return {\n      x: (CANVAS_WIDTH - width) / 2,\n      y: (CANVAS_HEIGHT - height) / 2\n    };\n  };\n\n  // Handle file drop\n  const onDrop = useCallback((acceptedFiles) => {\n    const file = acceptedFiles[0];\n    if (!file) {\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const img = new Image();\n      img.onload = () => {\n        let width = img.width;\n        let height = img.height;\n        \n        if (height > MAX_SIZE) {\n          const ratio = MAX_SIZE / height;\n          width *= ratio;\n          height = MAX_SIZE;\n        }\n        \n        if (width > MAX_SIZE) {\n          const ratio = MAX_SIZE / width;\n          height *= ratio;\n          width = MAX_SIZE;\n        }\n\n        const uploadedData = {\n          src: e.target.result,\n          width,\n          height,\n          originalWidth: img.width,\n          originalHeight: img.height,\n          name: file.name\n        };\n\n        setSelectedShape(null); // Clear selected shape first\n        setUploadedImage(uploadedData);\n        \n        const { x, y } = calculateCenterPosition(width, height);\n        setElementPosition({ x, y });\n      };\n      img.onerror = () => {};\n      img.src = e.target.result;\n    };\n    reader.onerror = () => {};\n    reader.readAsDataURL(file);\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: { 'image/*': ['.png', '.jpg', '.jpeg', '.svg'] },\n    multiple: false,\n    onDropAccepted: () => {},\n    onDropRejected: () => {},\n    onError: () => {}\n  });\n\n  // Draw on canvas\n  const drawCanvas = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Draw background (only if not transparent)\n    if (backgroundColor !== 'transparent') {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    }\n\n    // Draw element (prioritize uploaded image over selected shape)\n    if (uploadedImage) {\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(img, elementPosition.x, elementPosition.y, uploadedImage.width, uploadedImage.height);\n      };\n      img.onerror = () => {\n        // Handle image load error silently\n      };\n      img.src = uploadedImage.src;\n    } else if (selectedShape) {\n      const img = new Image();\n      const svg = new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g, `fill=\"${svgColor}\"`)], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(svg);\n      \n      img.onload = () => {\n        ctx.drawImage(img, elementPosition.x, elementPosition.y, MAX_SIZE, MAX_SIZE);\n        URL.revokeObjectURL(url);\n      };\n      img.src = url;\n    }\n  }, [backgroundColor, selectedShape, uploadedImage, elementPosition, svgColor]);\n\n  // Update canvas when dependencies change\n  useEffect(() => {\n    drawCanvas();\n  }, [drawCanvas]);\n\n  // Focus search input when modal opens\n  useEffect(() => {\n    if (showIconModal && searchInputRef.current) {\n      // Clear search term and focus input\n      setSearchTerm('');\n      // Small delay to ensure modal is fully rendered\n      setTimeout(() => {\n        searchInputRef.current?.focus();\n      }, 100);\n    }\n  }, [showIconModal]);\n\n  // Draw mockup canvas\n  const drawMockupCanvas = useCallback(() => {\n    const canvas = mockupCanvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Clear canvas (2:1 aspect ratio, high resolution)\n    ctx.clearRect(0, 0, 480, 240);\n    \n    // Draw background if not transparent\n    if (backgroundColor !== 'transparent') {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, 480, 240);\n    }\n    \n    // Draw element\n    if (uploadedImage) {\n      const img = new Image();\n      img.onload = () => {\n        const scale = Math.min(480 / uploadedImage.width, 240 / uploadedImage.height);\n        const width = uploadedImage.width * scale;\n        const height = uploadedImage.height * scale;\n        const x = (480 - width) / 2;\n        const y = (240 - height) / 2;\n        ctx.drawImage(img, x, y, width, height);\n      };\n      img.src = uploadedImage.src;\n    } else if (selectedShape) {\n      const img = new Image();\n      const svg = new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g, `fill=\"${svgColor}\"`)], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(svg);\n      img.onload = () => {\n        // Center the icon in the 2:1 canvas\n        const iconSize = Math.min(480, 240);\n        const x = (480 - iconSize) / 2;\n        const y = (240 - iconSize) / 2;\n        ctx.drawImage(img, x, y, iconSize, iconSize);\n        URL.revokeObjectURL(url);\n      };\n      img.src = url;\n    }\n  }, [backgroundColor, selectedShape, uploadedImage, svgColor]);\n\n  // Update mockup canvas when dependencies change\n  useEffect(() => {\n    drawMockupCanvas();\n  }, [drawMockupCanvas]);\n\n  // Draw square mockup canvas\n  const drawMockupSquareCanvas = useCallback(() => {\n    const canvas = mockupCanvasSquareRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Clear canvas (1:1 aspect ratio, high resolution)\n    ctx.clearRect(0, 0, 240, 240);\n    \n    // Draw background if not transparent\n    if (backgroundColor !== 'transparent') {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, 240, 240);\n    }\n    \n    // Draw element\n    if (uploadedImage) {\n      const img = new Image();\n      img.onload = () => {\n        const scale = Math.min(240 / uploadedImage.width, 240 / uploadedImage.height);\n        const width = uploadedImage.width * scale;\n        const height = uploadedImage.height * scale;\n        const x = (240 - width) / 2;\n        const y = (240 - height) / 2;\n        ctx.drawImage(img, x, y, width, height);\n      };\n      img.src = uploadedImage.src;\n    } else if (selectedShape) {\n      const img = new Image();\n      const svg = new Blob([selectedShape.svg.replace(/fill=\"[^\"]*\"/g, `fill=\"${svgColor}\"`)], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(svg);\n      img.onload = () => {\n        // Fill the entire square canvas with the icon\n        ctx.drawImage(img, 0, 0, 240, 240);\n        URL.revokeObjectURL(url);\n      };\n      img.src = url;\n    }\n  }, [backgroundColor, selectedShape, uploadedImage, svgColor]);\n\n  // Update square mockup canvas when dependencies change\n  useEffect(() => {\n    drawMockupSquareCanvas();\n  }, [drawMockupSquareCanvas]);\n\n  // Handle mouse drag on canvas\n  const handleCanvasMouseDown = (e) => {\n    if (!selectedShape && !uploadedImage) return;\n    \n    const rect = canvasContainerRef.current.getBoundingClientRect();\n    const scale = rect.width / CANVAS_WIDTH;\n    const mouseX = (e.clientX - rect.left) / scale;\n    const mouseY = (e.clientY - rect.top) / scale;\n    \n    const elementWidth = uploadedImage ? uploadedImage.width : MAX_SIZE;\n    const elementHeight = uploadedImage ? uploadedImage.height : MAX_SIZE;\n    \n    // Check if click is within element bounds\n    if (mouseX >= elementPosition.x && mouseX <= elementPosition.x + elementWidth &&\n        mouseY >= elementPosition.y && mouseY <= elementPosition.y + elementHeight) {\n      setIsDragging(true);\n      \n      const offsetX = mouseX - elementPosition.x;\n      const offsetY = mouseY - elementPosition.y;\n      \n      const handleMouseMove = (e) => {\n        const rect = canvasContainerRef.current.getBoundingClientRect();\n        const scale = rect.width / CANVAS_WIDTH;\n        const newX = (e.clientX - rect.left) / scale - offsetX;\n        const newY = (e.clientY - rect.top) / scale - offsetY;\n        \n        setElementPosition({\n          x: Math.max(0, Math.min(CANVAS_WIDTH - elementWidth, newX)),\n          y: Math.max(0, Math.min(CANVAS_HEIGHT - elementHeight, newY))\n        });\n      };\n      \n      const handleMouseUp = () => {\n        setIsDragging(false);\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n      \n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n  };\n\n  // Generate smart filename based on template: \"Lifecycle_toolName_color_background_1200x600\"\n  const generateFileName = () => {\n    let toolName = 'unknown';\n    let colorName = 'unknown';\n    let backgroundName = 'unknown';\n    \n    // Get tool name\n    if (uploadedImage) {\n      // Use uploaded image name without extension\n      toolName = uploadedImage.name\n        .replace(/\\.[^/.]+$/, '')  // Remove file extension\n        .replace(/\\s+/g, '')  // Remove spaces\n        .replace(/[^a-zA-Z0-9]/g, '')  // Remove special characters\n        .toLowerCase();\n    } else if (selectedShape) {\n      // Clean the icon name for filename (remove spaces, special chars)\n      toolName = selectedShape.name\n        .replace(/\\s+/g, '')  // Remove spaces\n        .replace(/[^a-zA-Z0-9]/g, '')  // Remove special characters\n        .toLowerCase();\n    }\n    \n    // Get color name\n    if (selectedShape) {\n      // Convert hex color to readable name or use hex without #\n      colorName = svgColor.replace('#', '').toLowerCase();\n      \n      // Convert common colors to names\n      const colorMap = {\n        'f40bf4': 'pink',\n        'ff0000': 'red',\n        '00ff00': 'green',\n        '0000ff': 'blue',\n        'ffff00': 'yellow',\n        'ff00ff': 'magenta',\n        '00ffff': 'cyan',\n        '000000': 'black',\n        'ffffff': 'white',\n        'ffa500': 'orange',\n        '800080': 'purple'\n      };\n      \n      colorName = colorMap[colorName] || colorName;\n    } else {\n      colorName = 'original';\n    }\n    \n    // Get background name\n    if (backgroundColor === 'transparent') {\n      backgroundName = 'transparent';\n    } else {\n      backgroundName = backgroundColor.replace('#', '').toLowerCase();\n      \n      // Convert common background colors to names\n      const bgColorMap = {\n        'ffffff': 'white',\n        '000000': 'black',\n        'ff0000': 'red',\n        '00ff00': 'green',\n        '0000ff': 'blue',\n        'ffff00': 'yellow',\n        'ffa500': 'orange',\n        '800080': 'purple'\n      };\n      \n      backgroundName = bgColorMap[backgroundName] || backgroundName;\n    }\n    \n    return `Lifecycle_${toolName}_${colorName}_${backgroundName}_1200x600.png`;\n  };\n\n  // Export as PNG\n  const exportAsPNG = () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob((blob) => {\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = generateFileName();\n      a.click();\n      URL.revokeObjectURL(url);\n    });\n  };\n\n  // Select shape\n  const selectShape = (shape) => {\n    setUploadedImage(null); // Clear uploaded image first\n    setSelectedShape(shape);\n    const { x, y } = calculateCenterPosition(MAX_SIZE, MAX_SIZE);\n    setElementPosition({ x, y });\n  };\n\n  // Helper function to truncate text with ellipsis\n  const truncateText = (text, maxLength) => {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n  };\n\n  // Get current text based on editing type\n  const getCurrentText = (textType) => {\n    switch (textType) {\n      case 'header1': return pushHeader1;\n      case 'preheader1': return pushPreheader1;\n      case 'header2': return pushHeader2;\n      case 'preheader2': return pushPreheader2;\n      default: return '';\n    }\n  };\n\n  // Handle text editing\n  const handleTextDoubleClick = (textType) => {\n    const currentText = getCurrentText(textType);\n    setTempText(currentText);\n    setEditingText(textType);\n  };\n\n  const handleTextSave = () => {\n    if (editingText) {\n      switch (editingText) {\n        case 'header1':\n        case 'header2':\n          // Sync both headers together\n          setPushHeader1(tempText);\n          setPushHeader2(tempText);\n          break;\n        case 'preheader1':\n        case 'preheader2':\n          // Sync both preheaders together\n          setPushPreheader1(tempText);\n          setPushPreheader2(tempText);\n          break;\n      }\n      setEditingText(null);\n      setTempText('');\n    }\n  };\n\n  const handleTextCancel = () => {\n    setEditingText(null);\n    setTempText('');\n  };\n\n  const handleTextKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleTextSave();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      handleTextCancel();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6\">\n\n        <div className=\"grid grid-cols-1 xl:grid-cols-4 gap-6 max-w-7xl mx-auto\">\n          {/* Canvas Area */}\n          <div className=\"xl:col-span-3\">\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div>\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Canvas</h2>\n                  <p className=\"text-sm text-gray-500\">Click and drag to position</p>\n                </div>\n                <button\n                  onClick={exportAsPNG}\n                  disabled={!selectedShape && !uploadedImage}\n                  className=\"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm font-medium\"\n                >\n                  <Download size={16} />\n                  Export PNG\n                </button>\n              </div>\n              \n              {/* Canvas */}\n              <div \n                ref={canvasContainerRef}\n                className={`relative border-2 border-gray-200 rounded-lg overflow-hidden ${\n                  backgroundColor === 'transparent' ? 'bg-white' : 'bg-gray-100'\n                }`}\n                style={{ \n                  paddingBottom: '50%',\n                  ...(backgroundColor === 'transparent' && {\n                    backgroundImage: 'linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%)',\n                    backgroundSize: '20px 20px',\n                    backgroundPosition: '0 0, 0 10px, 10px -10px, -10px 0px'\n                  })\n                }}\n              >\n                <canvas\n                  ref={canvasRef}\n                  width={CANVAS_WIDTH}\n                  height={CANVAS_HEIGHT}\n                  className={`absolute inset-0 w-full h-full ${isDragging ? 'cursor-grabbing' : 'cursor-grab'}`}\n                  onMouseDown={handleCanvasMouseDown}\n                />\n              </div>\n\n              {/* Controls */}\n              <div className=\"mt-4 flex items-center justify-between\">\n                \n                {/* Left Side - Buttons */}\n                <div className=\"flex items-center gap-3\">\n                  \n                  {/* Change Icon */}\n                  <button\n                    onClick={() => setShowIconModal(true)}\n                    className=\"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:border-gray-300 rounded-lg transition-colors\"\n                  >\n                    <Shapes size={16} />\n                    <span className=\"text-sm\">Change Icon</span>\n                  </button>\n\n                  {/* Upload */}\n                  <div \n                    {...getRootProps()} \n                    className=\"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:border-gray-300 rounded-lg transition-colors cursor-pointer\"\n                  >\n                    <input {...getInputProps()} />\n                    <Upload size={16} />\n                    <span className=\"text-sm\">{isDragActive ? 'Drop' : 'Upload'}</span>\n                  </div>\n                  \n                </div>\n\n                {/* Right Side - Colors */}\n                  <div className=\"flex items-center gap-3\">\n                    \n                    {/* Background Color */}\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-gray-500\">BG</span>\n                      <div className=\"relative\">\n                        <button\n                          onClick={() => setShowBgColorPicker(!showBgColorPicker)}\n                          className=\"w-8 h-8 rounded border border-gray-200 hover:border-gray-300 transition-colors overflow-hidden\"\n                        >\n                          {backgroundColor === 'transparent' ? (\n                            <div className=\"w-full h-full bg-gray-100\" style={{ \n                              backgroundImage: 'linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)',\n                              backgroundSize: '4px 4px',\n                              backgroundPosition: '0 0, 0 2px, 2px -2px, -2px 0px'\n                            }} />\n                          ) : (\n                            <div className=\"w-full h-full\" style={{ backgroundColor }} />\n                          )}\n                        </button>\n                        \n                        {showBgColorPicker && (\n                          <div className=\"absolute z-20 mt-2 right-0 min-w-max\">\n                            <div className=\"fixed inset-0\" onClick={() => setShowBgColorPicker(false)} />\n                            <div className=\"bg-white rounded-lg shadow-xl p-3 border border-gray-200\">\n                              <div className=\"mb-3\">\n                                <button\n                                  onClick={() => {\n                                    setBackgroundColor('transparent');\n                                    setShowBgColorPicker(false);\n                                  }}\n                                  className={`w-full px-3 py-2 text-xs rounded transition-colors font-medium ${\n                                    backgroundColor === 'transparent' \n                                      ? 'bg-blue-100 text-blue-800' \n                                      : 'bg-gray-100 hover:bg-gray-200'\n                                  }`}\n                                >\n                                  âœ“ Transparent\n                                </button>\n                              </div>\n                              <Compact\n                                color={backgroundColor === 'transparent' ? '#ffffff' : backgroundColor}\n                                onChange={(color) => setBackgroundColor(color.hex)}\n                                style={{ width: '240px' }}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Shape Color */}\n                  {selectedShape && !uploadedImage && (\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-gray-500\">Icon</span>\n                      <div className=\"relative\">\n                        <button\n                          onClick={() => setShowSvgColorPicker(!showSvgColorPicker)}\n                          className=\"w-8 h-8 rounded border border-gray-200 hover:border-gray-300 transition-colors\"\n                          style={{ backgroundColor: svgColor }}\n                        />\n                        \n                        {showSvgColorPicker && (\n                          <div className=\"absolute z-20 mt-2 right-0 min-w-max\">\n                            <div className=\"fixed inset-0\" onClick={() => setShowSvgColorPicker(false)} />\n                            <div className=\"bg-white rounded-lg shadow-xl p-3 border border-gray-200\">\n                              <Compact\n                                color={svgColor}\n                                onChange={(color) => setSvgColor(color.hex)}\n                                style={{ width: '240px' }}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                </div>\n              )}\n                </div>\n\n              </div>\n\n            </div>\n          </div>\n\n          {/* Push Notification Mockup */}\n          <div className=\"hidden xl:block xl:col-span-1\">\n            {/* Mockup Container */}\n              <div className=\"relative rounded-lg min-h-[300px]\">\n                {/* Mockup Background Image */}\n                <img \n                  src=\"/Mockup.png\" \n                  alt=\"Push notification mockup\"\n                  className=\"w-full h-auto rounded-lg\"\n                  onError={(e) => {\n                    e.target.style.display = 'none';\n                  }}\n                  onLoad={() => {}}\n                />\n                \n                {/* Canvas Result Overlay - 2:1 Aspect Ratio */}\n                <div className=\"absolute top-[55.6%] left-[5%] w-[90.5%]\" style={{ aspectRatio: '2/1' }}>\n                  <canvas\n                    ref={mockupCanvasRef}\n                    width={480}\n                    height={240}\n                    className=\"w-full h-full\"\n                    style={{ borderTopLeftRadius: '1rem', borderTopRightRadius: '1rem' }}\n                  />\n                </div>\n\n                {/* Canvas Result Overlay - 1:1 Aspect Ratio (Square) */}\n                <div className=\"absolute top-[48.5%] left-[84%] w-[8%]\" style={{ aspectRatio: '1/1' }}>\n                  <canvas\n                    ref={mockupCanvasSquareRef}\n                    width={240}\n                    height={240}\n                    className=\"w-full h-full\"\n                    style={{ borderRadius: '0.3em' }}\n                  />\n                </div>\n                \n                {/* Text Overlays - First Set */}\n                <div className=\"absolute top-[46%] left-[20%] space-y-1\" style={{ width: '170px' }}>\n                  {/* Header Text */}\n                  <div className=\"text-white font-semibold text-sm leading-tight whitespace-nowrap overflow-hidden\">\n                    {editingText === 'header1' ? (\n                      <input\n                        type=\"text\"\n                        value={tempText}\n                        onChange={(e) => setTempText(e.target.value)}\n                        onKeyDown={handleTextKeyDown}\n                        onBlur={handleTextSave}\n                        className=\"bg-transparent border border-white/30 rounded px-1 text-white text-sm font-semibold leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\"\n                        style={{ width: '170px' }}\n                        autoFocus\n                      />\n                    ) : (\n                      <span\n                        onDoubleClick={() => handleTextDoubleClick('header1')}\n                        className=\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\"\n                        title={pushHeader1}\n                        style={{ maxWidth: '170px' }}\n                      >\n                        {truncateText(pushHeader1, 25)}\n                      </span>\n                    )}\n                  </div>\n                  {/* Preheader Text */}\n                  <div className=\"text-white/80 text-xs leading-tight whitespace-nowrap overflow-hidden\">\n                    {editingText === 'preheader1' ? (\n                      <input\n                        type=\"text\"\n                        value={tempText}\n                        onChange={(e) => setTempText(e.target.value)}\n                        onKeyDown={handleTextKeyDown}\n                        onBlur={handleTextSave}\n                        className=\"bg-transparent border border-white/30 rounded px-1 text-white/80 text-xs leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\"\n                        style={{ width: '170px' }}\n                        autoFocus\n                      />\n                    ) : (\n                      <span\n                        onDoubleClick={() => handleTextDoubleClick('preheader1')}\n                        className=\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\"\n                        title={pushPreheader1}\n                        style={{ maxWidth: '170px' }}\n                      >\n                        {truncateText(pushPreheader1, 34)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                {/* Text Overlays - Second Set (Duplicate) */}\n                <div className=\"absolute top-[77.75%] left-[8%] space-y-1\" style={{ width: '270px' }}>\n                  {/* Header Text */}\n                  <div className=\"text-white font-semibold text-sm leading-tight whitespace-nowrap overflow-hidden\">\n                    {editingText === 'header2' ? (\n                      <input\n                        type=\"text\"\n                        value={tempText}\n                        onChange={(e) => setTempText(e.target.value)}\n                        onKeyDown={handleTextKeyDown}\n                        onBlur={handleTextSave}\n                        className=\"bg-transparent border border-white/30 rounded px-1 text-white text-sm font-semibold leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\"\n                        style={{ width: '240px' }}\n                        autoFocus\n                      />\n                    ) : (\n                      <span\n                        onDoubleClick={() => handleTextDoubleClick('header2')}\n                        className=\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\"\n                        title={pushHeader2}\n                        style={{ maxWidth: '240px' }}\n                      >\n                        {truncateText(pushHeader2, 40)}\n                      </span>\n                    )}\n                  </div>\n                  {/* Preheader Text */}\n                  <div className=\"text-white/80 text-xs leading-tight whitespace-nowrap overflow-hidden\">\n                    {editingText === 'preheader2' ? (\n                      <input\n                        type=\"text\"\n                        value={tempText}\n                        onChange={(e) => setTempText(e.target.value)}\n                        onKeyDown={handleTextKeyDown}\n                        onBlur={handleTextSave}\n                        className=\"bg-transparent border border-white/30 rounded px-1 text-white/80 text-xs leading-tight focus:outline-none focus:border-white/60 whitespace-nowrap\"\n                        style={{ width: '240px' }}\n                        autoFocus\n                      />\n                    ) : (\n                      <span\n                        onDoubleClick={() => handleTextDoubleClick('preheader2')}\n                        className=\"cursor-pointer hover:bg-white/10 rounded px-1 transition-colors whitespace-nowrap overflow-hidden text-ellipsis block\"\n                        title={pushPreheader2}\n                        style={{ maxWidth: '240px' }}\n                      >\n                        {truncateText(pushPreheader2, 65)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Icon Selection Modal */}\n      {showIconModal && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\n          onClick={() => setShowIconModal(false)}\n        >\n          <div \n            className=\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden relative\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close Button */}\n            <div className=\"absolute top-4 right-4 z-10\">\n              <button\n                onClick={() => setShowIconModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"p-6 pt-12 border-b border-gray-200\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n                <input\n                  ref={searchInputRef}\n                  type=\"text\"\n                  placeholder=\"Search icons...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm\"\n                />\n              </div>\n            </div>\n\n            {/* Icon Grid */}\n            <div className=\"p-6 overflow-y-auto max-h-96\">\n              <div className=\"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3\">\n                {filteredShapes.map((shape) => (\n                  <button\n                    key={shape.id}\n                    onClick={() => {\n                      selectShape(shape);\n                      setShowIconModal(false);\n                    }}\n                    className={`p-3 rounded-lg border-2 transition-all hover:scale-105 flex flex-col items-center justify-center aspect-square ${\n                      selectedShape?.id === shape.id \n                        ? 'border-purple-500 bg-purple-50' \n                        : 'border-gray-200 hover:border-gray-300 bg-white'\n                    }`}\n                    title={shape.name}\n                  >\n                    <div \n                      className=\"w-8 h-8 flex items-center justify-center\"\n                      dangerouslySetInnerHTML={{ \n                        __html: shape.svg.replace(/fill=\"[^\"]*\"/g, 'fill=\"#000000\"').replace(/stroke=\"[^\"]*\"/g, 'stroke=\"#000000\"')\n                      }}\n                    />\n                  </button>\n                ))}\n              </div>\n              \n              {filteredShapes.length === 0 && !isLoadingIcons && (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-gray-500\">No icons found matching your search.</p>\n                </div>\n              )}\n            </div>\n\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}