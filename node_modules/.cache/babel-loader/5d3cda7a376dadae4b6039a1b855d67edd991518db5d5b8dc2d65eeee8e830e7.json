{"ast":null,"code":"var _jsxFileName = \"/Users/armanarmaghanyan/Documents/Coding/Picsart/pushmaker/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Draggable from 'react-draggable';\nimport { Sketch } from '@uiw/react-color';\nimport { Search, Upload, Download, X, Move, Image as ImageIcon, Shapes } from 'lucide-react';\nimport { sampleSvgShapes } from './sampleSvgData';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CANVAS_WIDTH = 1200;\nconst CANVAS_HEIGHT = 600;\nconst MAX_ELEMENT_SIZE = 600;\nfunction App() {\n  _s();\n  const [mode, setMode] = useState('shapes'); // 'shapes' or 'upload'\n  const [selectedShape, setSelectedShape] = useState(null);\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [backgroundColor, setBackgroundColor] = useState('transparent');\n  const [svgColor, setSvgColor] = useState('#000000');\n  const [showBgColorPicker, setShowBgColorPicker] = useState(false);\n  const [showSvgColorPicker, setShowSvgColorPicker] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [elementPosition, setElementPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [showPreview, setShowPreview] = useState(false);\n  const [svgShapes, setSvgShapes] = useState(sampleSvgShapes);\n  const [hoveredShape, setHoveredShape] = useState(null);\n  const [elementScale, setElementScale] = useState(1.0);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizeHandle, setResizeHandle] = useState(null);\n  const canvasRef = useRef(null);\n  const previewCanvasRef = useRef(null);\n  const dragNodeRef = useRef(null);\n\n  // Calculate element dimensions for 600px height with scale\n  const calculateElementDimensions = (originalWidth, originalHeight, scale = 1.0) => {\n    const maxHeight = 600;\n    const maxWidth = 600;\n    let width = originalWidth * scale;\n    let height = originalHeight * scale;\n\n    // Scale down if height exceeds maxHeight\n    if (height > maxHeight) {\n      const ratio = maxHeight / height;\n      width *= ratio;\n      height = maxHeight;\n    }\n\n    // Scale down if width exceeds maxWidth\n    if (width > maxWidth) {\n      const ratio = maxWidth / width;\n      height *= ratio;\n      width = maxWidth;\n    }\n    return {\n      width,\n      height\n    };\n  };\n\n  // Calculate center position for element\n  const calculateCenterPosition = (elementWidth, elementHeight) => {\n    const canvasWidth = CANVAS_WIDTH;\n    const canvasHeight = CANVAS_HEIGHT;\n    const x = (canvasWidth - elementWidth) / 2;\n    const y = (canvasHeight - elementHeight) / 2;\n    return {\n      x,\n      y\n    };\n  };\n\n  // Handle corner resize\n  const handleCornerResize = (handle, e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeHandle(handle);\n    const startX = e.clientX;\n    const startY = e.clientY;\n    const startScale = elementScale;\n    const startPos = elementPosition;\n    const elementDims = getElementDimensions();\n    const handleMouseMove = e => {\n      const deltaX = e.clientX - startX;\n      const deltaY = e.clientY - startY;\n\n      // Calculate scale factor based on handle position\n      let scaleFactor = 1;\n      const baseSize = mode === 'shapes' ? 300 : uploadedImage ? uploadedImage.originalWidth : 300;\n      if (handle === 'se') {\n        // Bottom-right\n        scaleFactor = 1 + (deltaX + deltaY) / (baseSize * 2);\n      } else if (handle === 'sw') {\n        // Bottom-left\n        scaleFactor = 1 + (-deltaX + deltaY) / (baseSize * 2);\n      } else if (handle === 'ne') {\n        // Top-right\n        scaleFactor = 1 + (deltaX - deltaY) / (baseSize * 2);\n      } else if (handle === 'nw') {\n        // Top-left\n        scaleFactor = 1 + (-deltaX - deltaY) / (baseSize * 2);\n      }\n      const newScale = Math.max(0.5, Math.min(2.0, startScale * scaleFactor));\n      setElementScale(newScale);\n\n      // Adjust position for corner handles that affect position\n      if (handle === 'nw' || handle === 'sw') {\n        const newDims = calculateElementDimensions(mode === 'shapes' ? 300 : uploadedImage.originalWidth, mode === 'shapes' ? 300 : uploadedImage.originalHeight, newScale);\n        const deltaWidth = newDims.width - elementDims.width;\n        setElementPosition({\n          x: startPos.x - deltaWidth,\n          y: handle === 'nw' ? startPos.y - (newDims.height - elementDims.height) : startPos.y\n        });\n      }\n    };\n    const handleMouseUp = () => {\n      setIsResizing(false);\n      setResizeHandle(null);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle drag end\n  const handleDragEnd = (e, data) => {\n    setElementPosition({\n      x: data.x,\n      y: data.y\n    });\n  };\n\n  // Generate tags from filename\n  const generateTags = filename => {\n    const name = filename.replace(/\\.[^/.]+$/, ''); // Remove extension\n    const tags = name.split(/[-_\\s]+/).filter(tag => tag.length > 0);\n    return tags.map(tag => tag.toLowerCase());\n  };\n\n  // Filter shapes based on search\n  const filteredShapes = svgShapes.filter(shape => {\n    if (!searchTerm) return true;\n    const searchLower = searchTerm.toLowerCase();\n    return shape.name.toLowerCase().includes(searchLower) || shape.tags.some(tag => tag.includes(searchLower));\n  });\n\n  // Handle file drop for images\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      const img = new Image();\n      img.onload = () => {\n        // Calculate resize dimensions\n        let width = img.width;\n        let height = img.height;\n        const maxSize = MAX_ELEMENT_SIZE;\n        if (width > maxSize || height > maxSize) {\n          const ratio = Math.min(maxSize / width, maxSize / height);\n          width *= ratio;\n          height *= ratio;\n        }\n        setElementScale(1.0);\n        setUploadedImage({\n          src: e.target.result,\n          width,\n          height,\n          originalWidth: img.width,\n          originalHeight: img.height,\n          name: file.name\n        });\n        setMode('upload');\n        setSelectedShape(null);\n      };\n      img.src = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.svg']\n    },\n    multiple: false\n  });\n\n  // Handle SVG file upload for shapes library\n  const handleSvgLibraryUpload = e => {\n    const files = Array.from(e.target.files);\n    files.forEach(file => {\n      if (file.type === 'image/svg+xml' || file.name.endsWith('.svg')) {\n        const reader = new FileReader();\n        reader.onload = event => {\n          const newShape = {\n            id: Date.now() + Math.random(),\n            name: file.name.replace('.svg', ''),\n            svg: event.target.result,\n            tags: generateTags(file.name)\n          };\n          setSvgShapes(prev => [...prev, newShape]);\n        };\n        reader.readAsText(file);\n      }\n    });\n  };\n\n  // Draw on canvas\n  const drawCanvas = useCallback((canvas, context) => {\n    if (!canvas || !context) return;\n\n    // Clear canvas\n    context.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Draw background\n    if (backgroundColor !== 'transparent') {\n      context.fillStyle = backgroundColor;\n      context.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    }\n\n    // Draw element (shape or image)\n    if (mode === 'shapes' && selectedShape) {\n      drawSvgOnCanvas(context, selectedShape.svg, elementPosition.x, elementPosition.y, svgColor);\n    } else if (mode === 'upload' && uploadedImage) {\n      const img = new Image();\n      img.onload = () => {\n        context.drawImage(img, elementPosition.x, elementPosition.y, uploadedImage.width, uploadedImage.height);\n      };\n      img.src = uploadedImage.src;\n    }\n  }, [backgroundColor, mode, selectedShape, uploadedImage, elementPosition, svgColor]);\n\n  // Draw SVG on canvas with proper dimensions\n  const getElementDimensions = () => {\n    if (mode === 'shapes' && selectedShape) {\n      const {\n        width,\n        height\n      } = calculateElementDimensions(300, 300, elementScale);\n      return {\n        width,\n        height\n      };\n    } else if (mode === 'upload' && uploadedImage) {\n      const {\n        width,\n        height\n      } = calculateElementDimensions(uploadedImage.originalWidth, uploadedImage.originalHeight, elementScale);\n      return {\n        width,\n        height\n      };\n    }\n    return {\n      width: 0,\n      height: 0\n    };\n  };\n\n  // Draw SVG on canvas\n  const drawSvgOnCanvas = (context, svgString, x, y, color) => {\n    const img = new Image();\n    const svg = new Blob([svgString.replace(/fill=\"[^\"]*\"/g, `fill=\"${color}\"`)], {\n      type: 'image/svg+xml'\n    });\n    const url = URL.createObjectURL(svg);\n    img.onload = () => {\n      const {\n        width: elementWidth,\n        height: elementHeight\n      } = getElementDimensions();\n      context.drawImage(img, x, y, elementWidth, elementHeight);\n      URL.revokeObjectURL(url);\n    };\n    img.src = url;\n  };\n\n  // Update canvas whenever dependencies change\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas === null || canvas === void 0 ? void 0 : canvas.getContext('2d');\n    drawCanvas(canvas, context);\n  }, [drawCanvas]);\n\n  // Export as PNG\n  const exportAsPNG = () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob(blob => {\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `push-notification-${(selectedShape === null || selectedShape === void 0 ? void 0 : selectedShape.name) || (uploadedImage === null || uploadedImage === void 0 ? void 0 : uploadedImage.name) || 'image'}.png`;\n      a.click();\n      URL.revokeObjectURL(url);\n    });\n  };\n\n  // Show preview\n  const handleShowPreview = () => {\n    setShowPreview(true);\n    setTimeout(() => {\n      const canvas = previewCanvasRef.current;\n      const context = canvas === null || canvas === void 0 ? void 0 : canvas.getContext('2d');\n      drawCanvas(canvas, context);\n    }, 100);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-6 max-w-7xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800 mb-8\",\n        children: \"Push Notification Image Generator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMode('shapes'),\n                className: `flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${mode === 'shapes' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(Shapes, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), \"SVG Shapes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMode('upload'),\n                className: `flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${mode === 'upload' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), \"Upload Image\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), mode === 'shapes' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold\",\n                children: \"SVG Shapes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"cursor-pointer bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600\",\n                children: [\"Add SVGs\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  multiple: true,\n                  accept: \".svg\",\n                  onChange: handleSvgLibraryUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search shapes...\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-3 max-h-96 overflow-y-auto\",\n              children: filteredShapes.map(shape => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  setSelectedShape(shape);\n                  setElementScale(1.0);\n                  // Center the element\n                  const tempImg = new Image();\n                  const svgBlob = new Blob([shape.svg], {\n                    type: 'image/svg+xml'\n                  });\n                  const svgUrl = URL.createObjectURL(svgBlob);\n                  tempImg.onload = () => {\n                    const {\n                      width,\n                      height\n                    } = calculateElementDimensions(tempImg.width, tempImg.height);\n                    const {\n                      x,\n                      y\n                    } = calculateCenterPosition(width, height);\n                    setElementPosition({\n                      x,\n                      y\n                    });\n                    URL.revokeObjectURL(svgUrl);\n                  };\n                  tempImg.src = svgUrl;\n                },\n                onMouseEnter: () => setHoveredShape(shape),\n                onMouseLeave: () => setHoveredShape(null),\n                className: `relative border-2 rounded-lg p-4 cursor-pointer transition-all ${(selectedShape === null || selectedShape === void 0 ? void 0 : selectedShape.id) === shape.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-20 flex items-center justify-center\",\n                  dangerouslySetInnerHTML: {\n                    __html: shape.svg\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-center mt-2 truncate\",\n                  children: shape.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), (hoveredShape === null || hoveredShape === void 0 ? void 0 : hoveredShape.id) === shape.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute z-10 -top-2 -right-2 bg-white rounded-lg shadow-lg p-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-32 h-32\",\n                    dangerouslySetInnerHTML: {\n                      __html: shape.svg\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 25\n                }, this)]\n              }, shape.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), mode === 'upload' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-4\",\n              children: \"Upload Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ...getRootProps(),\n              className: \"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ...getInputProps()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Upload, {\n                className: \"mx-auto mb-4 text-gray-400\",\n                size: 48\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Drop the image here...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 mb-2\",\n                  children: \"Drag & drop an image here, or click to select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Supports: JPG, PNG, SVG (max 600x600)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), uploadedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium mb-2\",\n                children: uploadedImage.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [\"Original: \", uploadedImage.originalWidth, \"x\", uploadedImage.originalHeight]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [\"Resized: \", Math.round(uploadedImage.width), \"x\", Math.round(uploadedImage.height)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold\",\n              children: \"Colors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Background Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setBackgroundColor('transparent'),\n                  className: `px-3 py-1 rounded text-sm ${backgroundColor === 'transparent' ? 'bg-gray-800 text-white' : 'bg-gray-200 text-gray-700'}`,\n                  children: \"Transparent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setShowBgColorPicker(!showBgColorPicker),\n                    className: \"w-10 h-10 rounded border-2 border-gray-300\",\n                    style: {\n                      backgroundColor: backgroundColor === 'transparent' ? '#fff' : backgroundColor\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 21\n                  }, this), showBgColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute z-10 mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fixed inset-0\",\n                      onClick: () => setShowBgColorPicker(false)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Sketch, {\n                      color: backgroundColor === 'transparent' ? '#ffffff' : backgroundColor,\n                      onChange: color => setBackgroundColor(color.hex)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this), mode === 'shapes' && selectedShape && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Shape Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowSvgColorPicker(!showSvgColorPicker),\n                  className: \"w-full h-10 rounded border-2 border-gray-300\",\n                  style: {\n                    backgroundColor: svgColor\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 21\n                }, this), showSvgColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute z-10 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fixed inset-0\",\n                    onClick: () => setShowSvgColorPicker(false)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Sketch, {\n                    color: svgColor,\n                    onChange: color => setSvgColor(color.hex)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold mb-4\",\n              children: \"Scale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: [\"Element Scale: \", Math.round(elementScale * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.5\",\n                  max: \"2.0\",\n                  step: \"0.1\",\n                  value: elementScale,\n                  onChange: e => setElementScale(parseFloat(e.target.value)),\n                  className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\",\n                  style: {\n                    background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(elementScale - 0.5) / 1.5 * 100}%, #e5e7eb ${(elementScale - 0.5) / 1.5 * 100}%, #e5e7eb 100%)`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-xs text-gray-500 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"50%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"100%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"200%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setElementScale(0.5),\n                  className: \"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",\n                  children: \"50%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setElementScale(1.0),\n                  className: \"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",\n                  children: \"100%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setElementScale(1.5),\n                  className: \"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",\n                  children: \"150%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setElementScale(2.0),\n                  className: \"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",\n                  children: \"200%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold\",\n                children: \"Canvas Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-sm text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(Move, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 19\n                }, this), \"Drag to position\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative border-2 border-gray-300 rounded-lg overflow-hidden\",\n              style: {\n                width: '100%',\n                maxWidth: `${CANVAS_WIDTH / 2}px`,\n                margin: '0 auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n                ref: canvasRef,\n                width: CANVAS_WIDTH,\n                height: CANVAS_HEIGHT,\n                className: \"w-full h-auto\",\n                style: {\n                  backgroundColor: backgroundColor === 'transparent' ? '#f3f4f6' : backgroundColor\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this), (selectedShape || uploadedImage) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute border-2 border-blue-500 border-dashed bg-blue-100 bg-opacity-20 cursor-move\",\n                  style: {\n                    left: `${elementPosition.x / 2}px`,\n                    top: `${elementPosition.y / 2}px`,\n                    width: `${getElementDimensions().width / 2}px`,\n                    height: `${getElementDimensions().height / 2}px`\n                  },\n                  onMouseDown: e => {\n                    if (isResizing) return;\n                    e.preventDefault();\n                    const startX = e.clientX;\n                    const startY = e.clientY;\n                    const startPos = elementPosition;\n                    const handleMouseMove = e => {\n                      const deltaX = (e.clientX - startX) * 2;\n                      const deltaY = (e.clientY - startY) * 2;\n                      setElementPosition({\n                        x: Math.max(0, Math.min(CANVAS_WIDTH - getElementDimensions().width, startPos.x + deltaX)),\n                        y: Math.max(0, Math.min(CANVAS_HEIGHT - getElementDimensions().height, startPos.y + deltaY))\n                      });\n                    };\n                    const handleMouseUp = () => {\n                      document.removeEventListener('mousemove', handleMouseMove);\n                      document.removeEventListener('mouseup', handleMouseUp);\n                    };\n                    document.addEventListener('mousemove', handleMouseMove);\n                    document.addEventListener('mouseup', handleMouseUp);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-full flex items-center justify-center text-blue-600 text-xs\",\n                    children: \"Drag to move\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 21\n                }, this), ['nw', 'ne', 'sw', 'se'].map(handle => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute w-3 h-3 bg-blue-500 border border-white cursor-pointer hover:bg-blue-600 transition-colors\",\n                  style: {\n                    left: `${elementPosition.x / 2 + (handle.includes('e') ? getElementDimensions().width / 2 - 6 : -6)}px`,\n                    top: `${elementPosition.y / 2 + (handle.includes('s') ? getElementDimensions().height / 2 - 6 : -6)}px`,\n                    cursor: handle === 'nw' || handle === 'se' ? 'nw-resize' : 'ne-resize'\n                  },\n                  onMouseDown: e => handleCornerResize(handle, e)\n                }, handle, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex justify-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleShowPreview,\n                className: \"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\",\n                disabled: !selectedShape && !uploadedImage,\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: exportAsPNG,\n                className: \"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2\",\n                disabled: !selectedShape && !uploadedImage,\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 19\n                }, this), \"Download PNG\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-blue-900 mb-2\",\n              children: \"How to use:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"text-sm text-blue-800 space-y-1 list-decimal list-inside\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Choose between SVG shapes or upload your own image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Select or upload your desired element\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Drag the element to position it on the canvas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Customize colors as needed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Preview and download your 1200x600 PNG image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-2xl max-w-5xl w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPreview(false),\n            className: \"p-1 hover:bg-gray-100 rounded\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: previewCanvasRef,\n            width: CANVAS_WIDTH,\n            height: CANVAS_HEIGHT,\n            className: \"w-full h-auto border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-4 p-4 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPreview(false),\n            className: \"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportAsPNG,\n            className: \"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 17\n            }, this), \"Download PNG\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dREEHrK27camleE7cHcxU5o3JJI=\", false, function () {\n  return [useDropzone];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useDropzone","Draggable","Sketch","Search","Upload","Download","X","Move","Image","ImageIcon","Shapes","sampleSvgShapes","jsxDEV","_jsxDEV","Fragment","_Fragment","CANVAS_WIDTH","CANVAS_HEIGHT","MAX_ELEMENT_SIZE","App","_s","mode","setMode","selectedShape","setSelectedShape","uploadedImage","setUploadedImage","backgroundColor","setBackgroundColor","svgColor","setSvgColor","showBgColorPicker","setShowBgColorPicker","showSvgColorPicker","setShowSvgColorPicker","searchTerm","setSearchTerm","elementPosition","setElementPosition","x","y","showPreview","setShowPreview","svgShapes","setSvgShapes","hoveredShape","setHoveredShape","elementScale","setElementScale","isResizing","setIsResizing","resizeHandle","setResizeHandle","canvasRef","previewCanvasRef","dragNodeRef","calculateElementDimensions","originalWidth","originalHeight","scale","maxHeight","maxWidth","width","height","ratio","calculateCenterPosition","elementWidth","elementHeight","canvasWidth","canvasHeight","handleCornerResize","handle","e","preventDefault","stopPropagation","startX","clientX","startY","clientY","startScale","startPos","elementDims","getElementDimensions","handleMouseMove","deltaX","deltaY","scaleFactor","baseSize","newScale","Math","max","min","newDims","deltaWidth","handleMouseUp","document","removeEventListener","addEventListener","handleDragEnd","data","generateTags","filename","name","replace","tags","split","filter","tag","length","map","toLowerCase","filteredShapes","shape","searchLower","includes","some","onDrop","acceptedFiles","file","reader","FileReader","onload","img","maxSize","src","target","result","readAsDataURL","getRootProps","getInputProps","isDragActive","accept","multiple","handleSvgLibraryUpload","files","Array","from","forEach","type","endsWith","event","newShape","id","Date","now","random","svg","prev","readAsText","drawCanvas","canvas","context","clearRect","fillStyle","fillRect","drawSvgOnCanvas","drawImage","svgString","color","Blob","url","URL","createObjectURL","revokeObjectURL","current","getContext","exportAsPNG","toBlob","blob","a","createElement","href","download","click","handleShowPreview","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","onChange","placeholder","value","tempImg","svgBlob","svgUrl","onMouseEnter","onMouseLeave","dangerouslySetInnerHTML","__html","round","style","hex","step","parseFloat","background","margin","ref","left","top","onMouseDown","cursor","disabled","_c","$RefreshReg$"],"sources":["/Users/armanarmaghanyan/Documents/Coding/Picsart/pushmaker/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Draggable from 'react-draggable';\nimport { Sketch } from '@uiw/react-color';\nimport { Search, Upload, Download, X, Move, Image as ImageIcon, Shapes } from 'lucide-react';\nimport { sampleSvgShapes } from './sampleSvgData';\n\nconst CANVAS_WIDTH = 1200;\nconst CANVAS_HEIGHT = 600;\nconst MAX_ELEMENT_SIZE = 600;\n\nfunction App() {\n  const [mode, setMode] = useState('shapes'); // 'shapes' or 'upload'\n  const [selectedShape, setSelectedShape] = useState(null);\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [backgroundColor, setBackgroundColor] = useState('transparent');\n  const [svgColor, setSvgColor] = useState('#000000');\n  const [showBgColorPicker, setShowBgColorPicker] = useState(false);\n  const [showSvgColorPicker, setShowSvgColorPicker] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [elementPosition, setElementPosition] = useState({ x: 0, y: 0 });\n  const [showPreview, setShowPreview] = useState(false);\n  const [svgShapes, setSvgShapes] = useState(sampleSvgShapes);\n  const [hoveredShape, setHoveredShape] = useState(null);\n  const [elementScale, setElementScale] = useState(1.0);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizeHandle, setResizeHandle] = useState(null);\n  \n  const canvasRef = useRef(null);\n  const previewCanvasRef = useRef(null);\n  const dragNodeRef = useRef(null);\n\n\n\n  // Calculate element dimensions for 600px height with scale\n  const calculateElementDimensions = (originalWidth, originalHeight, scale = 1.0) => {\n    const maxHeight = 600;\n    const maxWidth = 600;\n    \n    let width = originalWidth * scale;\n    let height = originalHeight * scale;\n    \n    // Scale down if height exceeds maxHeight\n    if (height > maxHeight) {\n      const ratio = maxHeight / height;\n      width *= ratio;\n      height = maxHeight;\n    }\n    \n    // Scale down if width exceeds maxWidth\n    if (width > maxWidth) {\n      const ratio = maxWidth / width;\n      height *= ratio;\n      width = maxWidth;\n    }\n    \n    return { width, height };\n  };\n\n  // Calculate center position for element\n  const calculateCenterPosition = (elementWidth, elementHeight) => {\n    const canvasWidth = CANVAS_WIDTH;\n    const canvasHeight = CANVAS_HEIGHT;\n    \n    const x = (canvasWidth - elementWidth) / 2;\n    const y = (canvasHeight - elementHeight) / 2;\n    \n    return { x, y };\n  };\n\n  // Handle corner resize\n  const handleCornerResize = (handle, e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setIsResizing(true);\n    setResizeHandle(handle);\n    \n    const startX = e.clientX;\n    const startY = e.clientY;\n    const startScale = elementScale;\n    const startPos = elementPosition;\n    const elementDims = getElementDimensions();\n    \n    const handleMouseMove = (e) => {\n      const deltaX = e.clientX - startX;\n      const deltaY = e.clientY - startY;\n      \n      // Calculate scale factor based on handle position\n      let scaleFactor = 1;\n      const baseSize = mode === 'shapes' ? 300 : (uploadedImage ? uploadedImage.originalWidth : 300);\n      \n      if (handle === 'se') { // Bottom-right\n        scaleFactor = 1 + (deltaX + deltaY) / (baseSize * 2);\n      } else if (handle === 'sw') { // Bottom-left\n        scaleFactor = 1 + (-deltaX + deltaY) / (baseSize * 2);\n      } else if (handle === 'ne') { // Top-right\n        scaleFactor = 1 + (deltaX - deltaY) / (baseSize * 2);\n      } else if (handle === 'nw') { // Top-left\n        scaleFactor = 1 + (-deltaX - deltaY) / (baseSize * 2);\n      }\n      \n      const newScale = Math.max(0.5, Math.min(2.0, startScale * scaleFactor));\n      setElementScale(newScale);\n      \n      // Adjust position for corner handles that affect position\n      if (handle === 'nw' || handle === 'sw') {\n        const newDims = calculateElementDimensions(\n          mode === 'shapes' ? 300 : uploadedImage.originalWidth,\n          mode === 'shapes' ? 300 : uploadedImage.originalHeight,\n          newScale\n        );\n        const deltaWidth = newDims.width - elementDims.width;\n        setElementPosition({\n          x: startPos.x - deltaWidth,\n          y: handle === 'nw' ? startPos.y - (newDims.height - elementDims.height) : startPos.y\n        });\n      }\n    };\n    \n    const handleMouseUp = () => {\n      setIsResizing(false);\n      setResizeHandle(null);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    \n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle drag end\n  const handleDragEnd = (e, data) => {\n    setElementPosition({ x: data.x, y: data.y });\n  };\n\n  // Generate tags from filename\n  const generateTags = (filename) => {\n    const name = filename.replace(/\\.[^/.]+$/, ''); // Remove extension\n    const tags = name.split(/[-_\\s]+/).filter(tag => tag.length > 0);\n    return tags.map(tag => tag.toLowerCase());\n  };\n\n  // Filter shapes based on search\n  const filteredShapes = svgShapes.filter(shape => {\n    if (!searchTerm) return true;\n    const searchLower = searchTerm.toLowerCase();\n    return shape.name.toLowerCase().includes(searchLower) ||\n           shape.tags.some(tag => tag.includes(searchLower));\n  });\n\n  // Handle file drop for images\n  const onDrop = useCallback((acceptedFiles) => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const img = new Image();\n      img.onload = () => {\n        // Calculate resize dimensions\n        let width = img.width;\n        let height = img.height;\n        const maxSize = MAX_ELEMENT_SIZE;\n\n        if (width > maxSize || height > maxSize) {\n          const ratio = Math.min(maxSize / width, maxSize / height);\n          width *= ratio;\n          height *= ratio;\n        }\n\n        setElementScale(1.0);\n        setUploadedImage({\n          src: e.target.result,\n          width,\n          height,\n          originalWidth: img.width,\n          originalHeight: img.height,\n          name: file.name\n        });\n        setMode('upload');\n        setSelectedShape(null);\n      };\n      img.src = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.svg']\n    },\n    multiple: false\n  });\n\n  // Handle SVG file upload for shapes library\n  const handleSvgLibraryUpload = (e) => {\n    const files = Array.from(e.target.files);\n    \n    files.forEach(file => {\n      if (file.type === 'image/svg+xml' || file.name.endsWith('.svg')) {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          const newShape = {\n            id: Date.now() + Math.random(),\n            name: file.name.replace('.svg', ''),\n            svg: event.target.result,\n            tags: generateTags(file.name)\n          };\n          setSvgShapes(prev => [...prev, newShape]);\n        };\n        reader.readAsText(file);\n      }\n    });\n  };\n\n  // Draw on canvas\n  const drawCanvas = useCallback((canvas, context) => {\n    if (!canvas || !context) return;\n\n    // Clear canvas\n    context.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Draw background\n    if (backgroundColor !== 'transparent') {\n      context.fillStyle = backgroundColor;\n      context.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    }\n\n    // Draw element (shape or image)\n    if (mode === 'shapes' && selectedShape) {\n      drawSvgOnCanvas(context, selectedShape.svg, elementPosition.x, elementPosition.y, svgColor);\n    } else if (mode === 'upload' && uploadedImage) {\n      const img = new Image();\n      img.onload = () => {\n        context.drawImage(img, elementPosition.x, elementPosition.y, uploadedImage.width, uploadedImage.height);\n      };\n      img.src = uploadedImage.src;\n    }\n  }, [backgroundColor, mode, selectedShape, uploadedImage, elementPosition, svgColor]);\n\n  // Draw SVG on canvas with proper dimensions\n  const getElementDimensions = () => {\n    if (mode === 'shapes' && selectedShape) {\n      const { width, height } = calculateElementDimensions(300, 300, elementScale);\n      return { width, height };\n    } else if (mode === 'upload' && uploadedImage) {\n      const { width, height } = calculateElementDimensions(uploadedImage.originalWidth, uploadedImage.originalHeight, elementScale);\n      return { width, height };\n    }\n    return { width: 0, height: 0 };\n  };\n\n  // Draw SVG on canvas\n  const drawSvgOnCanvas = (context, svgString, x, y, color) => {\n    const img = new Image();\n    const svg = new Blob([svgString.replace(/fill=\"[^\"]*\"/g, `fill=\"${color}\"`)], { type: 'image/svg+xml' });\n    const url = URL.createObjectURL(svg);\n\n    img.onload = () => {\n      const { width: elementWidth, height: elementHeight } = getElementDimensions();\n      context.drawImage(img, x, y, elementWidth, elementHeight);\n      URL.revokeObjectURL(url);\n    };\n    img.src = url;\n  };\n\n  // Update canvas whenever dependencies change\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas?.getContext('2d');\n    drawCanvas(canvas, context);\n  }, [drawCanvas]);\n\n  // Export as PNG\n  const exportAsPNG = () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob((blob) => {\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `push-notification-${selectedShape?.name || uploadedImage?.name || 'image'}.png`;\n      a.click();\n      URL.revokeObjectURL(url);\n    });\n  };\n\n  // Show preview\n  const handleShowPreview = () => {\n    setShowPreview(true);\n    setTimeout(() => {\n      const canvas = previewCanvasRef.current;\n      const context = canvas?.getContext('2d');\n      drawCanvas(canvas, context);\n    }, 100);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto p-6 max-w-7xl\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Push Notification Image Generator</h1>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Panel - Shape/Image Selection */}\n          <div className=\"lg:col-span-1 space-y-4\">\n            {/* Mode Selector */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setMode('shapes')}\n                  className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${\n                    mode === 'shapes' \n                      ? 'bg-blue-500 text-white' \n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }`}\n                >\n                  <Shapes size={20} />\n                  SVG Shapes\n                </button>\n                <button\n                  onClick={() => setMode('upload')}\n                  className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${\n                    mode === 'upload' \n                      ? 'bg-blue-500 text-white' \n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }`}\n                >\n                  <ImageIcon size={20} />\n                  Upload Image\n                </button>\n              </div>\n            </div>\n\n            {/* Shapes Mode */}\n            {mode === 'shapes' && (\n              <div className=\"bg-white rounded-lg shadow p-4 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h2 className=\"text-lg font-semibold\">SVG Shapes</h2>\n                  <label className=\"cursor-pointer bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600\">\n                    Add SVGs\n                    <input\n                      type=\"file\"\n                      multiple\n                      accept=\".svg\"\n                      onChange={handleSvgLibraryUpload}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n                \n                {/* Search */}\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search shapes...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n\n                {/* Shapes Grid */}\n                <div className=\"grid grid-cols-3 gap-3 max-h-96 overflow-y-auto\">\n                  {filteredShapes.map((shape) => (\n                    <div\n                      key={shape.id}\n                      onClick={() => {\n                        setSelectedShape(shape);\n                        setElementScale(1.0);\n                        // Center the element\n                        const tempImg = new Image();\n                        const svgBlob = new Blob([shape.svg], { type: 'image/svg+xml' });\n                        const svgUrl = URL.createObjectURL(svgBlob);\n                        tempImg.onload = () => {\n                          const { width, height } = calculateElementDimensions(tempImg.width, tempImg.height);\n                          const { x, y } = calculateCenterPosition(width, height);\n                          setElementPosition({ x, y });\n                          URL.revokeObjectURL(svgUrl);\n                        };\n                        tempImg.src = svgUrl;\n                      }}\n                      onMouseEnter={() => setHoveredShape(shape)}\n                      onMouseLeave={() => setHoveredShape(null)}\n                      className={`relative border-2 rounded-lg p-4 cursor-pointer transition-all ${\n                        selectedShape?.id === shape.id \n                          ? 'border-blue-500 bg-blue-50' \n                          : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n                      }`}\n                    >\n                      <div \n                        className=\"w-full h-20 flex items-center justify-center\"\n                        dangerouslySetInnerHTML={{ __html: shape.svg }}\n                      />\n                      <p className=\"text-xs text-center mt-2 truncate\">{shape.name}</p>\n                      \n                      {/* Hover Preview */}\n                      {hoveredShape?.id === shape.id && (\n                        <div className=\"absolute z-10 -top-2 -right-2 bg-white rounded-lg shadow-lg p-2 pointer-events-none\">\n                          <div \n                            className=\"w-32 h-32\"\n                            dangerouslySetInnerHTML={{ __html: shape.svg }}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Upload Mode */}\n            {mode === 'upload' && (\n              <div className=\"bg-white rounded-lg shadow p-4\">\n                <h2 className=\"text-lg font-semibold mb-4\">Upload Image</h2>\n                <div {...getRootProps()} className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors\">\n                  <input {...getInputProps()} />\n                  <Upload className=\"mx-auto mb-4 text-gray-400\" size={48} />\n                  {isDragActive ? (\n                    <p className=\"text-gray-600\">Drop the image here...</p>\n                  ) : (\n                    <>\n                      <p className=\"text-gray-600 mb-2\">Drag & drop an image here, or click to select</p>\n                      <p className=\"text-sm text-gray-500\">Supports: JPG, PNG, SVG (max 600x600)</p>\n                    </>\n                  )}\n                </div>\n                \n                {uploadedImage && (\n                  <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">{uploadedImage.name}</p>\n                    <p className=\"text-xs text-gray-500\">\n                      Original: {uploadedImage.originalWidth}x{uploadedImage.originalHeight}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      Resized: {Math.round(uploadedImage.width)}x{Math.round(uploadedImage.height)}\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Color Controls */}\n            <div className=\"bg-white rounded-lg shadow p-4 space-y-4\">\n              <h2 className=\"text-lg font-semibold\">Colors</h2>\n              \n              {/* Background Color */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Background Color</label>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setBackgroundColor('transparent')}\n                    className={`px-3 py-1 rounded text-sm ${\n                      backgroundColor === 'transparent' \n                        ? 'bg-gray-800 text-white' \n                        : 'bg-gray-200 text-gray-700'\n                    }`}\n                  >\n                    Transparent\n                  </button>\n                  <div className=\"relative\">\n                    <button\n                      onClick={() => setShowBgColorPicker(!showBgColorPicker)}\n                      className=\"w-10 h-10 rounded border-2 border-gray-300\"\n                      style={{ backgroundColor: backgroundColor === 'transparent' ? '#fff' : backgroundColor }}\n                    />\n                    {showBgColorPicker && (\n                      <div className=\"absolute z-10 mt-2\">\n                        <div className=\"fixed inset-0\" onClick={() => setShowBgColorPicker(false)} />\n                        <Sketch\n                          color={backgroundColor === 'transparent' ? '#ffffff' : backgroundColor}\n                          onChange={(color) => setBackgroundColor(color.hex)}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* SVG Color */}\n              {mode === 'shapes' && selectedShape && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Shape Color</label>\n                  <div className=\"relative\">\n                    <button\n                      onClick={() => setShowSvgColorPicker(!showSvgColorPicker)}\n                      className=\"w-full h-10 rounded border-2 border-gray-300\"\n                      style={{ backgroundColor: svgColor }}\n                    />\n                    {showSvgColorPicker && (\n                      <div className=\"absolute z-10 mt-2\">\n                        <div className=\"fixed inset-0\" onClick={() => setShowSvgColorPicker(false)} />\n                        <Sketch\n                          color={svgColor}\n                          onChange={(color) => setSvgColor(color.hex)}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n                        {/* Scale Control */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h2 className=\"text-lg font-semibold mb-4\">Scale</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Element Scale: {Math.round(elementScale * 100)}%\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0.5\"\n                    max=\"2.0\"\n                    step=\"0.1\"\n                    value={elementScale}\n                    onChange={(e) => setElementScale(parseFloat(e.target.value))}\n                    className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n                    style={{\n                      background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${((elementScale - 0.5) / 1.5) * 100}%, #e5e7eb ${((elementScale - 0.5) / 1.5) * 100}%, #e5e7eb 100%)`\n                    }}\n                  />\n                  <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                    <span>50%</span>\n                    <span>100%</span>\n                    <span>200%</span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setElementScale(0.5)}\n                    className=\"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                  >\n                    50%\n                  </button>\n                  <button\n                    onClick={() => setElementScale(1.0)}\n                    className=\"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                  >\n                    100%\n                  </button>\n                  <button\n                    onClick={() => setElementScale(1.5)}\n                    className=\"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                  >\n                    150%\n                  </button>\n                  <button\n                    onClick={() => setElementScale(2.0)}\n                    className=\"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                  >\n                    200%\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Right Panel - Canvas */}\n          <div className=\"lg:col-span-2 space-y-4\">\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-lg font-semibold\">Canvas Preview</h2>\n                <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                  <Move size={16} />\n                  Drag to position\n                </div>\n              </div>\n              \n              {/* Canvas Container */}\n              <div className=\"relative border-2 border-gray-300 rounded-lg overflow-hidden\" \n                   style={{ width: '100%', maxWidth: `${CANVAS_WIDTH/2}px`, margin: '0 auto' }}>\n                <canvas\n                  ref={canvasRef}\n                  width={CANVAS_WIDTH}\n                  height={CANVAS_HEIGHT}\n                  className=\"w-full h-auto\"\n                  style={{ backgroundColor: backgroundColor === 'transparent' ? '#f3f4f6' : backgroundColor }}\n                />\n                \n                {/* Element Position Indicator with Corner Handles */}\n                {(selectedShape || uploadedImage) && (\n                  <div className=\"relative\">\n                    {/* Main drag area */}\n                    <div \n                      className=\"absolute border-2 border-blue-500 border-dashed bg-blue-100 bg-opacity-20 cursor-move\"\n                      style={{ \n                        left: `${elementPosition.x/2}px`,\n                        top: `${elementPosition.y/2}px`,\n                        width: `${getElementDimensions().width/2}px`,\n                        height: `${getElementDimensions().height/2}px`,\n                      }}\n                      onMouseDown={(e) => {\n                        if (isResizing) return;\n                        e.preventDefault();\n                        const startX = e.clientX;\n                        const startY = e.clientY;\n                        const startPos = elementPosition;\n                        \n                        const handleMouseMove = (e) => {\n                          const deltaX = (e.clientX - startX) * 2;\n                          const deltaY = (e.clientY - startY) * 2;\n                          setElementPosition({\n                            x: Math.max(0, Math.min(CANVAS_WIDTH - getElementDimensions().width, startPos.x + deltaX)),\n                            y: Math.max(0, Math.min(CANVAS_HEIGHT - getElementDimensions().height, startPos.y + deltaY))\n                          });\n                        };\n                        \n                        const handleMouseUp = () => {\n                          document.removeEventListener('mousemove', handleMouseMove);\n                          document.removeEventListener('mouseup', handleMouseUp);\n                        };\n                        \n                        document.addEventListener('mousemove', handleMouseMove);\n                        document.addEventListener('mouseup', handleMouseUp);\n                      }}\n                    >\n                      <div className=\"w-full h-full flex items-center justify-center text-blue-600 text-xs\">\n                        Drag to move\n                      </div>\n                    </div>\n                    \n                    {/* Corner handles */}\n                    {['nw', 'ne', 'sw', 'se'].map((handle) => (\n                      <div\n                        key={handle}\n                        className=\"absolute w-3 h-3 bg-blue-500 border border-white cursor-pointer hover:bg-blue-600 transition-colors\"\n                        style={{\n                          left: `${elementPosition.x/2 + (handle.includes('e') ? getElementDimensions().width/2 - 6 : -6)}px`,\n                          top: `${elementPosition.y/2 + (handle.includes('s') ? getElementDimensions().height/2 - 6 : -6)}px`,\n                          cursor: handle === 'nw' || handle === 'se' ? 'nw-resize' : 'ne-resize'\n                        }}\n                        onMouseDown={(e) => handleCornerResize(handle, e)}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Export Actions */}\n              <div className=\"mt-6 flex justify-center gap-4\">\n                <button\n                  onClick={handleShowPreview}\n                  className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\n                  disabled={!selectedShape && !uploadedImage}\n                >\n                  Preview\n                </button>\n                <button\n                  onClick={exportAsPNG}\n                  className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2\"\n                  disabled={!selectedShape && !uploadedImage}\n                >\n                  <Download size={20} />\n                  Download PNG\n                </button>\n              </div>\n            </div>\n\n            {/* Instructions */}\n            <div className=\"bg-blue-50 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-blue-900 mb-2\">How to use:</h3>\n              <ol className=\"text-sm text-blue-800 space-y-1 list-decimal list-inside\">\n                <li>Choose between SVG shapes or upload your own image</li>\n                <li>Select or upload your desired element</li>\n                <li>Drag the element to position it on the canvas</li>\n                <li>Customize colors as needed</li>\n                <li>Preview and download your 1200x600 PNG image</li>\n              </ol>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Preview Modal */}\n      {showPreview && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-2xl max-w-5xl w-full\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Preview</h3>\n              <button\n                onClick={() => setShowPreview(false)}\n                className=\"p-1 hover:bg-gray-100 rounded\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n            <div className=\"p-4\">\n              <canvas\n                ref={previewCanvasRef}\n                width={CANVAS_WIDTH}\n                height={CANVAS_HEIGHT}\n                className=\"w-full h-auto border border-gray-300 rounded\"\n              />\n            </div>\n            <div className=\"flex justify-end gap-4 p-4 border-t\">\n              <button\n                onClick={() => setShowPreview(false)}\n                className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\n              >\n                Close\n              </button>\n              <button\n                onClick={exportAsPNG}\n                className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2\"\n              >\n                <Download size={20} />\n                Download PNG\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,OAAOC,SAAS,MAAM,iBAAiB;AACvC,SAASC,MAAM,QAAQ,kBAAkB;AACzC,SAASC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,CAAC,EAAEC,IAAI,EAAEC,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,cAAc;AAC5F,SAASC,eAAe,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,YAAY,GAAG,IAAI;AACzB,MAAMC,aAAa,GAAG,GAAG;AACzB,MAAMC,gBAAgB,GAAG,GAAG;AAE5B,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG1B,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;EAC5C,MAAM,CAAC2B,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC6B,aAAa,EAAEC,gBAAgB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC+B,eAAe,EAAEC,kBAAkB,CAAC,GAAGhC,QAAQ,CAAC,aAAa,CAAC;EACrE,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,SAAS,CAAC;EACnD,MAAM,CAACmC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACqC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACuC,UAAU,EAAEC,aAAa,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyC,eAAe,EAAEC,kBAAkB,CAAC,GAAG1C,QAAQ,CAAC;IAAE2C,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EACtE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG9C,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC+C,SAAS,EAAEC,YAAY,CAAC,GAAGhD,QAAQ,CAACe,eAAe,CAAC;EAC3D,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACmD,YAAY,EAAEC,eAAe,CAAC,GAAGpD,QAAQ,CAAC,GAAG,CAAC;EACrD,MAAM,CAACqD,UAAU,EAAEC,aAAa,CAAC,GAAGtD,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACuD,YAAY,EAAEC,eAAe,CAAC,GAAGxD,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAMyD,SAAS,GAAGxD,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMyD,gBAAgB,GAAGzD,MAAM,CAAC,IAAI,CAAC;EACrC,MAAM0D,WAAW,GAAG1D,MAAM,CAAC,IAAI,CAAC;;EAIhC;EACA,MAAM2D,0BAA0B,GAAGA,CAACC,aAAa,EAAEC,cAAc,EAAEC,KAAK,GAAG,GAAG,KAAK;IACjF,MAAMC,SAAS,GAAG,GAAG;IACrB,MAAMC,QAAQ,GAAG,GAAG;IAEpB,IAAIC,KAAK,GAAGL,aAAa,GAAGE,KAAK;IACjC,IAAII,MAAM,GAAGL,cAAc,GAAGC,KAAK;;IAEnC;IACA,IAAII,MAAM,GAAGH,SAAS,EAAE;MACtB,MAAMI,KAAK,GAAGJ,SAAS,GAAGG,MAAM;MAChCD,KAAK,IAAIE,KAAK;MACdD,MAAM,GAAGH,SAAS;IACpB;;IAEA;IACA,IAAIE,KAAK,GAAGD,QAAQ,EAAE;MACpB,MAAMG,KAAK,GAAGH,QAAQ,GAAGC,KAAK;MAC9BC,MAAM,IAAIC,KAAK;MACfF,KAAK,GAAGD,QAAQ;IAClB;IAEA,OAAO;MAAEC,KAAK;MAAEC;IAAO,CAAC;EAC1B,CAAC;;EAED;EACA,MAAME,uBAAuB,GAAGA,CAACC,YAAY,EAAEC,aAAa,KAAK;IAC/D,MAAMC,WAAW,GAAGpD,YAAY;IAChC,MAAMqD,YAAY,GAAGpD,aAAa;IAElC,MAAMsB,CAAC,GAAG,CAAC6B,WAAW,GAAGF,YAAY,IAAI,CAAC;IAC1C,MAAM1B,CAAC,GAAG,CAAC6B,YAAY,GAAGF,aAAa,IAAI,CAAC;IAE5C,OAAO;MAAE5B,CAAC;MAAEC;IAAE,CAAC;EACjB,CAAC;;EAED;EACA,MAAM8B,kBAAkB,GAAGA,CAACC,MAAM,EAAEC,CAAC,KAAK;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;IAEnBxB,aAAa,CAAC,IAAI,CAAC;IACnBE,eAAe,CAACmB,MAAM,CAAC;IAEvB,MAAMI,MAAM,GAAGH,CAAC,CAACI,OAAO;IACxB,MAAMC,MAAM,GAAGL,CAAC,CAACM,OAAO;IACxB,MAAMC,UAAU,GAAGhC,YAAY;IAC/B,MAAMiC,QAAQ,GAAG3C,eAAe;IAChC,MAAM4C,WAAW,GAAGC,oBAAoB,CAAC,CAAC;IAE1C,MAAMC,eAAe,GAAIX,CAAC,IAAK;MAC7B,MAAMY,MAAM,GAAGZ,CAAC,CAACI,OAAO,GAAGD,MAAM;MACjC,MAAMU,MAAM,GAAGb,CAAC,CAACM,OAAO,GAAGD,MAAM;;MAEjC;MACA,IAAIS,WAAW,GAAG,CAAC;MACnB,MAAMC,QAAQ,GAAGlE,IAAI,KAAK,QAAQ,GAAG,GAAG,GAAII,aAAa,GAAGA,aAAa,CAACgC,aAAa,GAAG,GAAI;MAE9F,IAAIc,MAAM,KAAK,IAAI,EAAE;QAAE;QACrBe,WAAW,GAAG,CAAC,GAAG,CAACF,MAAM,GAAGC,MAAM,KAAKE,QAAQ,GAAG,CAAC,CAAC;MACtD,CAAC,MAAM,IAAIhB,MAAM,KAAK,IAAI,EAAE;QAAE;QAC5Be,WAAW,GAAG,CAAC,GAAG,CAAC,CAACF,MAAM,GAAGC,MAAM,KAAKE,QAAQ,GAAG,CAAC,CAAC;MACvD,CAAC,MAAM,IAAIhB,MAAM,KAAK,IAAI,EAAE;QAAE;QAC5Be,WAAW,GAAG,CAAC,GAAG,CAACF,MAAM,GAAGC,MAAM,KAAKE,QAAQ,GAAG,CAAC,CAAC;MACtD,CAAC,MAAM,IAAIhB,MAAM,KAAK,IAAI,EAAE;QAAE;QAC5Be,WAAW,GAAG,CAAC,GAAG,CAAC,CAACF,MAAM,GAAGC,MAAM,KAAKE,QAAQ,GAAG,CAAC,CAAC;MACvD;MAEA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAG,EAAED,IAAI,CAACE,GAAG,CAAC,GAAG,EAAEZ,UAAU,GAAGO,WAAW,CAAC,CAAC;MACvEtC,eAAe,CAACwC,QAAQ,CAAC;;MAEzB;MACA,IAAIjB,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,IAAI,EAAE;QACtC,MAAMqB,OAAO,GAAGpC,0BAA0B,CACxCnC,IAAI,KAAK,QAAQ,GAAG,GAAG,GAAGI,aAAa,CAACgC,aAAa,EACrDpC,IAAI,KAAK,QAAQ,GAAG,GAAG,GAAGI,aAAa,CAACiC,cAAc,EACtD8B,QACF,CAAC;QACD,MAAMK,UAAU,GAAGD,OAAO,CAAC9B,KAAK,GAAGmB,WAAW,CAACnB,KAAK;QACpDxB,kBAAkB,CAAC;UACjBC,CAAC,EAAEyC,QAAQ,CAACzC,CAAC,GAAGsD,UAAU;UAC1BrD,CAAC,EAAE+B,MAAM,KAAK,IAAI,GAAGS,QAAQ,CAACxC,CAAC,IAAIoD,OAAO,CAAC7B,MAAM,GAAGkB,WAAW,CAAClB,MAAM,CAAC,GAAGiB,QAAQ,CAACxC;QACrF,CAAC,CAAC;MACJ;IACF,CAAC;IAED,MAAMsD,aAAa,GAAGA,CAAA,KAAM;MAC1B5C,aAAa,CAAC,KAAK,CAAC;MACpBE,eAAe,CAAC,IAAI,CAAC;MACrB2C,QAAQ,CAACC,mBAAmB,CAAC,WAAW,EAAEb,eAAe,CAAC;MAC1DY,QAAQ,CAACC,mBAAmB,CAAC,SAAS,EAAEF,aAAa,CAAC;IACxD,CAAC;IAEDC,QAAQ,CAACE,gBAAgB,CAAC,WAAW,EAAEd,eAAe,CAAC;IACvDY,QAAQ,CAACE,gBAAgB,CAAC,SAAS,EAAEH,aAAa,CAAC;EACrD,CAAC;;EAED;EACA,MAAMI,aAAa,GAAGA,CAAC1B,CAAC,EAAE2B,IAAI,KAAK;IACjC7D,kBAAkB,CAAC;MAAEC,CAAC,EAAE4D,IAAI,CAAC5D,CAAC;MAAEC,CAAC,EAAE2D,IAAI,CAAC3D;IAAE,CAAC,CAAC;EAC9C,CAAC;;EAED;EACA,MAAM4D,YAAY,GAAIC,QAAQ,IAAK;IACjC,MAAMC,IAAI,GAAGD,QAAQ,CAACE,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC;IAChD,MAAMC,IAAI,GAAGF,IAAI,CAACG,KAAK,CAAC,SAAS,CAAC,CAACC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC;IAChE,OAAOJ,IAAI,CAACK,GAAG,CAACF,GAAG,IAAIA,GAAG,CAACG,WAAW,CAAC,CAAC,CAAC;EAC3C,CAAC;;EAED;EACA,MAAMC,cAAc,GAAGpE,SAAS,CAAC+D,MAAM,CAACM,KAAK,IAAI;IAC/C,IAAI,CAAC7E,UAAU,EAAE,OAAO,IAAI;IAC5B,MAAM8E,WAAW,GAAG9E,UAAU,CAAC2E,WAAW,CAAC,CAAC;IAC5C,OAAOE,KAAK,CAACV,IAAI,CAACQ,WAAW,CAAC,CAAC,CAACI,QAAQ,CAACD,WAAW,CAAC,IAC9CD,KAAK,CAACR,IAAI,CAACW,IAAI,CAACR,GAAG,IAAIA,GAAG,CAACO,QAAQ,CAACD,WAAW,CAAC,CAAC;EAC1D,CAAC,CAAC;;EAEF;EACA,MAAMG,MAAM,GAAGrH,WAAW,CAAEsH,aAAa,IAAK;IAC5C,MAAMC,IAAI,GAAGD,aAAa,CAAC,CAAC,CAAC;IAC7B,IAAI,CAACC,IAAI,EAAE;IAEX,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAIjD,CAAC,IAAK;MACrB,MAAMkD,GAAG,GAAG,IAAIlH,KAAK,CAAC,CAAC;MACvBkH,GAAG,CAACD,MAAM,GAAG,MAAM;QACjB;QACA,IAAI3D,KAAK,GAAG4D,GAAG,CAAC5D,KAAK;QACrB,IAAIC,MAAM,GAAG2D,GAAG,CAAC3D,MAAM;QACvB,MAAM4D,OAAO,GAAGzG,gBAAgB;QAEhC,IAAI4C,KAAK,GAAG6D,OAAO,IAAI5D,MAAM,GAAG4D,OAAO,EAAE;UACvC,MAAM3D,KAAK,GAAGyB,IAAI,CAACE,GAAG,CAACgC,OAAO,GAAG7D,KAAK,EAAE6D,OAAO,GAAG5D,MAAM,CAAC;UACzDD,KAAK,IAAIE,KAAK;UACdD,MAAM,IAAIC,KAAK;QACjB;QAEAhB,eAAe,CAAC,GAAG,CAAC;QACpBtB,gBAAgB,CAAC;UACfkG,GAAG,EAAEpD,CAAC,CAACqD,MAAM,CAACC,MAAM;UACpBhE,KAAK;UACLC,MAAM;UACNN,aAAa,EAAEiE,GAAG,CAAC5D,KAAK;UACxBJ,cAAc,EAAEgE,GAAG,CAAC3D,MAAM;UAC1BuC,IAAI,EAAEgB,IAAI,CAAChB;QACb,CAAC,CAAC;QACFhF,OAAO,CAAC,QAAQ,CAAC;QACjBE,gBAAgB,CAAC,IAAI,CAAC;MACxB,CAAC;MACDkG,GAAG,CAACE,GAAG,GAAGpD,CAAC,CAACqD,MAAM,CAACC,MAAM;IAC3B,CAAC;IACDP,MAAM,CAACQ,aAAa,CAACT,IAAI,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM;IAAEU,YAAY;IAAEC,aAAa;IAAEC;EAAa,CAAC,GAAGlI,WAAW,CAAC;IAChEoH,MAAM;IACNe,MAAM,EAAE;MACN,SAAS,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM;IAC7C,CAAC;IACDC,QAAQ,EAAE;EACZ,CAAC,CAAC;;EAEF;EACA,MAAMC,sBAAsB,GAAI7D,CAAC,IAAK;IACpC,MAAM8D,KAAK,GAAGC,KAAK,CAACC,IAAI,CAAChE,CAAC,CAACqD,MAAM,CAACS,KAAK,CAAC;IAExCA,KAAK,CAACG,OAAO,CAACnB,IAAI,IAAI;MACpB,IAAIA,IAAI,CAACoB,IAAI,KAAK,eAAe,IAAIpB,IAAI,CAAChB,IAAI,CAACqC,QAAQ,CAAC,MAAM,CAAC,EAAE;QAC/D,MAAMpB,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,MAAM,GAAImB,KAAK,IAAK;UACzB,MAAMC,QAAQ,GAAG;YACfC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGvD,IAAI,CAACwD,MAAM,CAAC,CAAC;YAC9B3C,IAAI,EAAEgB,IAAI,CAAChB,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;YACnC2C,GAAG,EAAEN,KAAK,CAACf,MAAM,CAACC,MAAM;YACxBtB,IAAI,EAAEJ,YAAY,CAACkB,IAAI,CAAChB,IAAI;UAC9B,CAAC;UACD1D,YAAY,CAACuG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEN,QAAQ,CAAC,CAAC;QAC3C,CAAC;QACDtB,MAAM,CAAC6B,UAAU,CAAC9B,IAAI,CAAC;MACzB;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAM+B,UAAU,GAAGtJ,WAAW,CAAC,CAACuJ,MAAM,EAAEC,OAAO,KAAK;IAClD,IAAI,CAACD,MAAM,IAAI,CAACC,OAAO,EAAE;;IAEzB;IACAA,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAExI,YAAY,EAAEC,aAAa,CAAC;;IAEpD;IACA,IAAIU,eAAe,KAAK,aAAa,EAAE;MACrC4H,OAAO,CAACE,SAAS,GAAG9H,eAAe;MACnC4H,OAAO,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE1I,YAAY,EAAEC,aAAa,CAAC;IACrD;;IAEA;IACA,IAAII,IAAI,KAAK,QAAQ,IAAIE,aAAa,EAAE;MACtCoI,eAAe,CAACJ,OAAO,EAAEhI,aAAa,CAAC2H,GAAG,EAAE7G,eAAe,CAACE,CAAC,EAAEF,eAAe,CAACG,CAAC,EAAEX,QAAQ,CAAC;IAC7F,CAAC,MAAM,IAAIR,IAAI,KAAK,QAAQ,IAAII,aAAa,EAAE;MAC7C,MAAMiG,GAAG,GAAG,IAAIlH,KAAK,CAAC,CAAC;MACvBkH,GAAG,CAACD,MAAM,GAAG,MAAM;QACjB8B,OAAO,CAACK,SAAS,CAAClC,GAAG,EAAErF,eAAe,CAACE,CAAC,EAAEF,eAAe,CAACG,CAAC,EAAEf,aAAa,CAACqC,KAAK,EAAErC,aAAa,CAACsC,MAAM,CAAC;MACzG,CAAC;MACD2D,GAAG,CAACE,GAAG,GAAGnG,aAAa,CAACmG,GAAG;IAC7B;EACF,CAAC,EAAE,CAACjG,eAAe,EAAEN,IAAI,EAAEE,aAAa,EAAEE,aAAa,EAAEY,eAAe,EAAER,QAAQ,CAAC,CAAC;;EAEpF;EACA,MAAMqD,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI7D,IAAI,KAAK,QAAQ,IAAIE,aAAa,EAAE;MACtC,MAAM;QAAEuC,KAAK;QAAEC;MAAO,CAAC,GAAGP,0BAA0B,CAAC,GAAG,EAAE,GAAG,EAAET,YAAY,CAAC;MAC5E,OAAO;QAAEe,KAAK;QAAEC;MAAO,CAAC;IAC1B,CAAC,MAAM,IAAI1C,IAAI,KAAK,QAAQ,IAAII,aAAa,EAAE;MAC7C,MAAM;QAAEqC,KAAK;QAAEC;MAAO,CAAC,GAAGP,0BAA0B,CAAC/B,aAAa,CAACgC,aAAa,EAAEhC,aAAa,CAACiC,cAAc,EAAEX,YAAY,CAAC;MAC7H,OAAO;QAAEe,KAAK;QAAEC;MAAO,CAAC;IAC1B;IACA,OAAO;MAAED,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;EAChC,CAAC;;EAED;EACA,MAAM4F,eAAe,GAAGA,CAACJ,OAAO,EAAEM,SAAS,EAAEtH,CAAC,EAAEC,CAAC,EAAEsH,KAAK,KAAK;IAC3D,MAAMpC,GAAG,GAAG,IAAIlH,KAAK,CAAC,CAAC;IACvB,MAAM0I,GAAG,GAAG,IAAIa,IAAI,CAAC,CAACF,SAAS,CAACtD,OAAO,CAAC,eAAe,EAAE,SAASuD,KAAK,GAAG,CAAC,CAAC,EAAE;MAAEpB,IAAI,EAAE;IAAgB,CAAC,CAAC;IACxG,MAAMsB,GAAG,GAAGC,GAAG,CAACC,eAAe,CAAChB,GAAG,CAAC;IAEpCxB,GAAG,CAACD,MAAM,GAAG,MAAM;MACjB,MAAM;QAAE3D,KAAK,EAAEI,YAAY;QAAEH,MAAM,EAAEI;MAAc,CAAC,GAAGe,oBAAoB,CAAC,CAAC;MAC7EqE,OAAO,CAACK,SAAS,CAAClC,GAAG,EAAEnF,CAAC,EAAEC,CAAC,EAAE0B,YAAY,EAAEC,aAAa,CAAC;MACzD8F,GAAG,CAACE,eAAe,CAACH,GAAG,CAAC;IAC1B,CAAC;IACDtC,GAAG,CAACE,GAAG,GAAGoC,GAAG;EACf,CAAC;;EAED;EACAlK,SAAS,CAAC,MAAM;IACd,MAAMwJ,MAAM,GAAGjG,SAAS,CAAC+G,OAAO;IAChC,MAAMb,OAAO,GAAGD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEe,UAAU,CAAC,IAAI,CAAC;IACxChB,UAAU,CAACC,MAAM,EAAEC,OAAO,CAAC;EAC7B,CAAC,EAAE,CAACF,UAAU,CAAC,CAAC;;EAEhB;EACA,MAAMiB,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMhB,MAAM,GAAGjG,SAAS,CAAC+G,OAAO;IAChCd,MAAM,CAACiB,MAAM,CAAEC,IAAI,IAAK;MACtB,MAAMR,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACM,IAAI,CAAC;MACrC,MAAMC,CAAC,GAAG1E,QAAQ,CAAC2E,aAAa,CAAC,GAAG,CAAC;MACrCD,CAAC,CAACE,IAAI,GAAGX,GAAG;MACZS,CAAC,CAACG,QAAQ,GAAG,qBAAqB,CAAArJ,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAE+E,IAAI,MAAI7E,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAE6E,IAAI,KAAI,OAAO,MAAM;MAC7FmE,CAAC,CAACI,KAAK,CAAC,CAAC;MACTZ,GAAG,CAACE,eAAe,CAACH,GAAG,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMc,iBAAiB,GAAGA,CAAA,KAAM;IAC9BpI,cAAc,CAAC,IAAI,CAAC;IACpBqI,UAAU,CAAC,MAAM;MACf,MAAMzB,MAAM,GAAGhG,gBAAgB,CAAC8G,OAAO;MACvC,MAAMb,OAAO,GAAGD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEe,UAAU,CAAC,IAAI,CAAC;MACxChB,UAAU,CAACC,MAAM,EAAEC,OAAO,CAAC;IAC7B,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,oBACE1I,OAAA;IAAKmK,SAAS,EAAC,yBAAyB;IAAAC,QAAA,gBACtCpK,OAAA;MAAKmK,SAAS,EAAC,iCAAiC;MAAAC,QAAA,gBAC9CpK,OAAA;QAAImK,SAAS,EAAC,uCAAuC;QAAAC,QAAA,EAAC;MAAiC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE5FxK,OAAA;QAAKmK,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBAEpDpK,OAAA;UAAKmK,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBAEtCpK,OAAA;YAAKmK,SAAS,EAAC,gCAAgC;YAAAC,QAAA,eAC7CpK,OAAA;cAAKmK,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBpK,OAAA;gBACEyK,OAAO,EAAEA,CAAA,KAAMhK,OAAO,CAAC,QAAQ,CAAE;gBACjC0J,SAAS,EAAE,oGACT3J,IAAI,KAAK,QAAQ,GACb,wBAAwB,GACxB,6CAA6C,EAChD;gBAAA4J,QAAA,gBAEHpK,OAAA,CAACH,MAAM;kBAAC6K,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,cAEtB;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTxK,OAAA;gBACEyK,OAAO,EAAEA,CAAA,KAAMhK,OAAO,CAAC,QAAQ,CAAE;gBACjC0J,SAAS,EAAE,oGACT3J,IAAI,KAAK,QAAQ,GACb,wBAAwB,GACxB,6CAA6C,EAChD;gBAAA4J,QAAA,gBAEHpK,OAAA,CAACJ,SAAS;kBAAC8K,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAEzB;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAGLhK,IAAI,KAAK,QAAQ,iBAChBR,OAAA;YAAKmK,SAAS,EAAC,0CAA0C;YAAAC,QAAA,gBACvDpK,OAAA;cAAKmK,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAChDpK,OAAA;gBAAImK,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrDxK,OAAA;gBAAOmK,SAAS,EAAC,mFAAmF;gBAAAC,QAAA,GAAC,UAEnG,eAAApK,OAAA;kBACE6H,IAAI,EAAC,MAAM;kBACXN,QAAQ;kBACRD,MAAM,EAAC,MAAM;kBACbqD,QAAQ,EAAEnD,sBAAuB;kBACjC2C,SAAS,EAAC;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eAGNxK,OAAA;cAAKmK,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBpK,OAAA,CAACV,MAAM;gBAAC6K,SAAS,EAAC,kEAAkE;gBAACO,IAAI,EAAE;cAAG;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACjGxK,OAAA;gBACE6H,IAAI,EAAC,MAAM;gBACX+C,WAAW,EAAC,kBAAkB;gBAC9BC,KAAK,EAAEvJ,UAAW;gBAClBqJ,QAAQ,EAAGhH,CAAC,IAAKpC,aAAa,CAACoC,CAAC,CAACqD,MAAM,CAAC6D,KAAK,CAAE;gBAC/CV,SAAS,EAAC;cAAoH;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/H,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAGNxK,OAAA;cAAKmK,SAAS,EAAC,iDAAiD;cAAAC,QAAA,EAC7DlE,cAAc,CAACF,GAAG,CAAEG,KAAK,iBACxBnG,OAAA;gBAEEyK,OAAO,EAAEA,CAAA,KAAM;kBACb9J,gBAAgB,CAACwF,KAAK,CAAC;kBACvBhE,eAAe,CAAC,GAAG,CAAC;kBACpB;kBACA,MAAM2I,OAAO,GAAG,IAAInL,KAAK,CAAC,CAAC;kBAC3B,MAAMoL,OAAO,GAAG,IAAI7B,IAAI,CAAC,CAAC/C,KAAK,CAACkC,GAAG,CAAC,EAAE;oBAAER,IAAI,EAAE;kBAAgB,CAAC,CAAC;kBAChE,MAAMmD,MAAM,GAAG5B,GAAG,CAACC,eAAe,CAAC0B,OAAO,CAAC;kBAC3CD,OAAO,CAAClE,MAAM,GAAG,MAAM;oBACrB,MAAM;sBAAE3D,KAAK;sBAAEC;oBAAO,CAAC,GAAGP,0BAA0B,CAACmI,OAAO,CAAC7H,KAAK,EAAE6H,OAAO,CAAC5H,MAAM,CAAC;oBACnF,MAAM;sBAAExB,CAAC;sBAAEC;oBAAE,CAAC,GAAGyB,uBAAuB,CAACH,KAAK,EAAEC,MAAM,CAAC;oBACvDzB,kBAAkB,CAAC;sBAAEC,CAAC;sBAAEC;oBAAE,CAAC,CAAC;oBAC5ByH,GAAG,CAACE,eAAe,CAAC0B,MAAM,CAAC;kBAC7B,CAAC;kBACDF,OAAO,CAAC/D,GAAG,GAAGiE,MAAM;gBACtB,CAAE;gBACFC,YAAY,EAAEA,CAAA,KAAMhJ,eAAe,CAACkE,KAAK,CAAE;gBAC3C+E,YAAY,EAAEA,CAAA,KAAMjJ,eAAe,CAAC,IAAI,CAAE;gBAC1CkI,SAAS,EAAE,kEACT,CAAAzJ,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEuH,EAAE,MAAK9B,KAAK,CAAC8B,EAAE,GAC1B,4BAA4B,GAC5B,wDAAwD,EAC3D;gBAAAmC,QAAA,gBAEHpK,OAAA;kBACEmK,SAAS,EAAC,8CAA8C;kBACxDgB,uBAAuB,EAAE;oBAAEC,MAAM,EAAEjF,KAAK,CAACkC;kBAAI;gBAAE;kBAAAgC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACFxK,OAAA;kBAAGmK,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,EAAEjE,KAAK,CAACV;gBAAI;kBAAA4E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,EAGhE,CAAAxI,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEiG,EAAE,MAAK9B,KAAK,CAAC8B,EAAE,iBAC5BjI,OAAA;kBAAKmK,SAAS,EAAC,qFAAqF;kBAAAC,QAAA,eAClGpK,OAAA;oBACEmK,SAAS,EAAC,WAAW;oBACrBgB,uBAAuB,EAAE;sBAAEC,MAAM,EAAEjF,KAAK,CAACkC;oBAAI;kBAAE;oBAAAgC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAChD;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CACN;cAAA,GAtCIrE,KAAK,CAAC8B,EAAE;gBAAAoC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAuCV,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,EAGAhK,IAAI,KAAK,QAAQ,iBAChBR,OAAA;YAAKmK,SAAS,EAAC,gCAAgC;YAAAC,QAAA,gBAC7CpK,OAAA;cAAImK,SAAS,EAAC,4BAA4B;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5DxK,OAAA;cAAA,GAASmH,YAAY,CAAC,CAAC;cAAEgD,SAAS,EAAC,0HAA0H;cAAAC,QAAA,gBAC3JpK,OAAA;gBAAA,GAAWoH,aAAa,CAAC;cAAC;gBAAAiD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC9BxK,OAAA,CAACT,MAAM;gBAAC4K,SAAS,EAAC,4BAA4B;gBAACO,IAAI,EAAE;cAAG;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC1DnD,YAAY,gBACXrH,OAAA;gBAAGmK,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAsB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,gBAEvDxK,OAAA,CAAAE,SAAA;gBAAAkK,QAAA,gBACEpK,OAAA;kBAAGmK,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAA6C;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACnFxK,OAAA;kBAAGmK,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAqC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA,eAC9E,CACH;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EAEL5J,aAAa,iBACZZ,OAAA;cAAKmK,SAAS,EAAC,gCAAgC;cAAAC,QAAA,gBAC7CpK,OAAA;gBAAGmK,SAAS,EAAC,0BAA0B;gBAAAC,QAAA,EAAExJ,aAAa,CAAC6E;cAAI;gBAAA4E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChExK,OAAA;gBAAGmK,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,YACzB,EAACxJ,aAAa,CAACgC,aAAa,EAAC,GAAC,EAAChC,aAAa,CAACiC,cAAc;cAAA;gBAAAwH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpE,CAAC,eACJxK,OAAA;gBAAGmK,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,WAC1B,EAACxF,IAAI,CAACyG,KAAK,CAACzK,aAAa,CAACqC,KAAK,CAAC,EAAC,GAAC,EAAC2B,IAAI,CAACyG,KAAK,CAACzK,aAAa,CAACsC,MAAM,CAAC;cAAA;gBAAAmH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN,eAGDxK,OAAA;YAAKmK,SAAS,EAAC,0CAA0C;YAAAC,QAAA,gBACvDpK,OAAA;cAAImK,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAGjDxK,OAAA;cAAAoK,QAAA,gBACEpK,OAAA;gBAAOmK,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAgB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACxFxK,OAAA;gBAAKmK,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBpK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAM1J,kBAAkB,CAAC,aAAa,CAAE;kBACjDoJ,SAAS,EAAE,6BACTrJ,eAAe,KAAK,aAAa,GAC7B,wBAAwB,GACxB,2BAA2B,EAC9B;kBAAAsJ,QAAA,EACJ;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTxK,OAAA;kBAAKmK,SAAS,EAAC,UAAU;kBAAAC,QAAA,gBACvBpK,OAAA;oBACEyK,OAAO,EAAEA,CAAA,KAAMtJ,oBAAoB,CAAC,CAACD,iBAAiB,CAAE;oBACxDiJ,SAAS,EAAC,4CAA4C;oBACtDmB,KAAK,EAAE;sBAAExK,eAAe,EAAEA,eAAe,KAAK,aAAa,GAAG,MAAM,GAAGA;oBAAgB;kBAAE;oBAAAuJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1F,CAAC,EACDtJ,iBAAiB,iBAChBlB,OAAA;oBAAKmK,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,gBACjCpK,OAAA;sBAAKmK,SAAS,EAAC,eAAe;sBAACM,OAAO,EAAEA,CAAA,KAAMtJ,oBAAoB,CAAC,KAAK;oBAAE;sBAAAkJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC7ExK,OAAA,CAACX,MAAM;sBACL4J,KAAK,EAAEnI,eAAe,KAAK,aAAa,GAAG,SAAS,GAAGA,eAAgB;sBACvE6J,QAAQ,EAAG1B,KAAK,IAAKlI,kBAAkB,CAACkI,KAAK,CAACsC,GAAG;oBAAE;sBAAAlB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CACN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAGLhK,IAAI,KAAK,QAAQ,IAAIE,aAAa,iBACjCV,OAAA;cAAAoK,QAAA,gBACEpK,OAAA;gBAAOmK,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACnFxK,OAAA;gBAAKmK,SAAS,EAAC,UAAU;gBAAAC,QAAA,gBACvBpK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAMpJ,qBAAqB,CAAC,CAACD,kBAAkB,CAAE;kBAC1D+I,SAAS,EAAC,8CAA8C;kBACxDmB,KAAK,EAAE;oBAAExK,eAAe,EAAEE;kBAAS;gBAAE;kBAAAqJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC,CAAC,EACDpJ,kBAAkB,iBACjBpB,OAAA;kBAAKmK,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,gBACjCpK,OAAA;oBAAKmK,SAAS,EAAC,eAAe;oBAACM,OAAO,EAAEA,CAAA,KAAMpJ,qBAAqB,CAAC,KAAK;kBAAE;oBAAAgJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAC9ExK,OAAA,CAACX,MAAM;oBACL4J,KAAK,EAAEjI,QAAS;oBAChB2J,QAAQ,EAAG1B,KAAK,IAAKhI,WAAW,CAACgI,KAAK,CAACsC,GAAG;kBAAE;oBAAAlB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7C,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CACN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENxK,OAAA;YAAKmK,SAAS,EAAC,gCAAgC;YAAAC,QAAA,gBAC7CpK,OAAA;cAAImK,SAAS,EAAC,4BAA4B;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrDxK,OAAA;cAAKmK,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBpK,OAAA;gBAAAoK,QAAA,gBACEpK,OAAA;kBAAOmK,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,GAAC,iBAC/C,EAACxF,IAAI,CAACyG,KAAK,CAACnJ,YAAY,GAAG,GAAG,CAAC,EAAC,GACjD;gBAAA;kBAAAmI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRxK,OAAA;kBACE6H,IAAI,EAAC,OAAO;kBACZ/C,GAAG,EAAC,KAAK;kBACTD,GAAG,EAAC,KAAK;kBACT2G,IAAI,EAAC,KAAK;kBACVX,KAAK,EAAE3I,YAAa;kBACpByI,QAAQ,EAAGhH,CAAC,IAAKxB,eAAe,CAACsJ,UAAU,CAAC9H,CAAC,CAACqD,MAAM,CAAC6D,KAAK,CAAC,CAAE;kBAC7DV,SAAS,EAAC,yEAAyE;kBACnFmB,KAAK,EAAE;oBACLI,UAAU,EAAE,iDAAkD,CAACxJ,YAAY,GAAG,GAAG,IAAI,GAAG,GAAI,GAAG,cAAe,CAACA,YAAY,GAAG,GAAG,IAAI,GAAG,GAAI,GAAG;kBACjJ;gBAAE;kBAAAmI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACFxK,OAAA;kBAAKmK,SAAS,EAAC,iDAAiD;kBAAAC,QAAA,gBAC9DpK,OAAA;oBAAAoK,QAAA,EAAM;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAChBxK,OAAA;oBAAAoK,QAAA,EAAM;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACjBxK,OAAA;oBAAAoK,QAAA,EAAM;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACNxK,OAAA;gBAAKmK,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBpK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAMtI,eAAe,CAAC,GAAG,CAAE;kBACpCgI,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EAClF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTxK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAMtI,eAAe,CAAC,GAAG,CAAE;kBACpCgI,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EAClF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTxK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAMtI,eAAe,CAAC,GAAG,CAAE;kBACpCgI,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EAClF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTxK,OAAA;kBACEyK,OAAO,EAAEA,CAAA,KAAMtI,eAAe,CAAC,GAAG,CAAE;kBACpCgI,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EAClF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNxK,OAAA;UAAKmK,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtCpK,OAAA;YAAKmK,SAAS,EAAC,gCAAgC;YAAAC,QAAA,gBAC7CpK,OAAA;cAAKmK,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrDpK,OAAA;gBAAImK,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACzDxK,OAAA;gBAAKmK,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,gBAC5DpK,OAAA,CAACN,IAAI;kBAACgL,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,oBAEpB;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNxK,OAAA;cAAKmK,SAAS,EAAC,8DAA8D;cACxEmB,KAAK,EAAE;gBAAErI,KAAK,EAAE,MAAM;gBAAED,QAAQ,EAAE,GAAG7C,YAAY,GAAC,CAAC,IAAI;gBAAEwL,MAAM,EAAE;cAAS,CAAE;cAAAvB,QAAA,gBAC/EpK,OAAA;gBACE4L,GAAG,EAAEpJ,SAAU;gBACfS,KAAK,EAAE9C,YAAa;gBACpB+C,MAAM,EAAE9C,aAAc;gBACtB+J,SAAS,EAAC,eAAe;gBACzBmB,KAAK,EAAE;kBAAExK,eAAe,EAAEA,eAAe,KAAK,aAAa,GAAG,SAAS,GAAGA;gBAAgB;cAAE;gBAAAuJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7F,CAAC,EAGD,CAAC9J,aAAa,IAAIE,aAAa,kBAC9BZ,OAAA;gBAAKmK,SAAS,EAAC,UAAU;gBAAAC,QAAA,gBAEvBpK,OAAA;kBACEmK,SAAS,EAAC,uFAAuF;kBACjGmB,KAAK,EAAE;oBACLO,IAAI,EAAE,GAAGrK,eAAe,CAACE,CAAC,GAAC,CAAC,IAAI;oBAChCoK,GAAG,EAAE,GAAGtK,eAAe,CAACG,CAAC,GAAC,CAAC,IAAI;oBAC/BsB,KAAK,EAAE,GAAGoB,oBAAoB,CAAC,CAAC,CAACpB,KAAK,GAAC,CAAC,IAAI;oBAC5CC,MAAM,EAAE,GAAGmB,oBAAoB,CAAC,CAAC,CAACnB,MAAM,GAAC,CAAC;kBAC5C,CAAE;kBACF6I,WAAW,EAAGpI,CAAC,IAAK;oBAClB,IAAIvB,UAAU,EAAE;oBAChBuB,CAAC,CAACC,cAAc,CAAC,CAAC;oBAClB,MAAME,MAAM,GAAGH,CAAC,CAACI,OAAO;oBACxB,MAAMC,MAAM,GAAGL,CAAC,CAACM,OAAO;oBACxB,MAAME,QAAQ,GAAG3C,eAAe;oBAEhC,MAAM8C,eAAe,GAAIX,CAAC,IAAK;sBAC7B,MAAMY,MAAM,GAAG,CAACZ,CAAC,CAACI,OAAO,GAAGD,MAAM,IAAI,CAAC;sBACvC,MAAMU,MAAM,GAAG,CAACb,CAAC,CAACM,OAAO,GAAGD,MAAM,IAAI,CAAC;sBACvCvC,kBAAkB,CAAC;wBACjBC,CAAC,EAAEkD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC3E,YAAY,GAAGkE,oBAAoB,CAAC,CAAC,CAACpB,KAAK,EAAEkB,QAAQ,CAACzC,CAAC,GAAG6C,MAAM,CAAC,CAAC;wBAC1F5C,CAAC,EAAEiD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC1E,aAAa,GAAGiE,oBAAoB,CAAC,CAAC,CAACnB,MAAM,EAAEiB,QAAQ,CAACxC,CAAC,GAAG6C,MAAM,CAAC;sBAC7F,CAAC,CAAC;oBACJ,CAAC;oBAED,MAAMS,aAAa,GAAGA,CAAA,KAAM;sBAC1BC,QAAQ,CAACC,mBAAmB,CAAC,WAAW,EAAEb,eAAe,CAAC;sBAC1DY,QAAQ,CAACC,mBAAmB,CAAC,SAAS,EAAEF,aAAa,CAAC;oBACxD,CAAC;oBAEDC,QAAQ,CAACE,gBAAgB,CAAC,WAAW,EAAEd,eAAe,CAAC;oBACvDY,QAAQ,CAACE,gBAAgB,CAAC,SAAS,EAAEH,aAAa,CAAC;kBACrD,CAAE;kBAAAmF,QAAA,eAEFpK,OAAA;oBAAKmK,SAAS,EAAC,sEAAsE;oBAAAC,QAAA,EAAC;kBAEtF;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,EAGL,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACxE,GAAG,CAAEtC,MAAM,iBACnC1D,OAAA;kBAEEmK,SAAS,EAAC,qGAAqG;kBAC/GmB,KAAK,EAAE;oBACLO,IAAI,EAAE,GAAGrK,eAAe,CAACE,CAAC,GAAC,CAAC,IAAIgC,MAAM,CAAC2C,QAAQ,CAAC,GAAG,CAAC,GAAGhC,oBAAoB,CAAC,CAAC,CAACpB,KAAK,GAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;oBACnG6I,GAAG,EAAE,GAAGtK,eAAe,CAACG,CAAC,GAAC,CAAC,IAAI+B,MAAM,CAAC2C,QAAQ,CAAC,GAAG,CAAC,GAAGhC,oBAAoB,CAAC,CAAC,CAACnB,MAAM,GAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;oBACnG8I,MAAM,EAAEtI,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,IAAI,GAAG,WAAW,GAAG;kBAC7D,CAAE;kBACFqI,WAAW,EAAGpI,CAAC,IAAKF,kBAAkB,CAACC,MAAM,EAAEC,CAAC;gBAAE,GAP7CD,MAAM;kBAAA2G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAQZ,CACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAGNxK,OAAA;cAAKmK,SAAS,EAAC,gCAAgC;cAAAC,QAAA,gBAC7CpK,OAAA;gBACEyK,OAAO,EAAER,iBAAkB;gBAC3BE,SAAS,EAAC,oFAAoF;gBAC9F8B,QAAQ,EAAE,CAACvL,aAAa,IAAI,CAACE,aAAc;gBAAAwJ,QAAA,EAC5C;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTxK,OAAA;gBACEyK,OAAO,EAAEhB,WAAY;gBACrBU,SAAS,EAAC,yGAAyG;gBACnH8B,QAAQ,EAAE,CAACvL,aAAa,IAAI,CAACE,aAAc;gBAAAwJ,QAAA,gBAE3CpK,OAAA,CAACR,QAAQ;kBAACkL,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAExB;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNxK,OAAA;YAAKmK,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCpK,OAAA;cAAImK,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjExK,OAAA;cAAImK,SAAS,EAAC,0DAA0D;cAAAC,QAAA,gBACtEpK,OAAA;gBAAAoK,QAAA,EAAI;cAAkD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3DxK,OAAA;gBAAAoK,QAAA,EAAI;cAAqC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CxK,OAAA;gBAAAoK,QAAA,EAAI;cAA6C;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtDxK,OAAA;gBAAAoK,QAAA,EAAI;cAA0B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnCxK,OAAA;gBAAAoK,QAAA,EAAI;cAA4C;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL5I,WAAW,iBACV5B,OAAA;MAAKmK,SAAS,EAAC,gFAAgF;MAAAC,QAAA,eAC7FpK,OAAA;QAAKmK,SAAS,EAAC,iDAAiD;QAAAC,QAAA,gBAC9DpK,OAAA;UAAKmK,SAAS,EAAC,gDAAgD;UAAAC,QAAA,gBAC7DpK,OAAA;YAAImK,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClDxK,OAAA;YACEyK,OAAO,EAAEA,CAAA,KAAM5I,cAAc,CAAC,KAAK,CAAE;YACrCsI,SAAS,EAAC,+BAA+B;YAAAC,QAAA,eAEzCpK,OAAA,CAACP,CAAC;cAACiL,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNxK,OAAA;UAAKmK,SAAS,EAAC,KAAK;UAAAC,QAAA,eAClBpK,OAAA;YACE4L,GAAG,EAAEnJ,gBAAiB;YACtBQ,KAAK,EAAE9C,YAAa;YACpB+C,MAAM,EAAE9C,aAAc;YACtB+J,SAAS,EAAC;UAA8C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNxK,OAAA;UAAKmK,SAAS,EAAC,qCAAqC;UAAAC,QAAA,gBAClDpK,OAAA;YACEyK,OAAO,EAAEA,CAAA,KAAM5I,cAAc,CAAC,KAAK,CAAE;YACrCsI,SAAS,EAAC,kEAAkE;YAAAC,QAAA,EAC7E;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTxK,OAAA;YACEyK,OAAO,EAAEhB,WAAY;YACrBU,SAAS,EAAC,uFAAuF;YAAAC,QAAA,gBAEjGpK,OAAA,CAACR,QAAQ;cAACkL,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAExB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACjK,EAAA,CAjsBQD,GAAG;EAAA,QAiL4CnB,WAAW;AAAA;AAAA+M,EAAA,GAjL1D5L,GAAG;AAmsBZ,eAAeA,GAAG;AAAC,IAAA4L,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}